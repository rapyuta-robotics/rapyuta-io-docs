!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var SwaggerToHar=require("./swagger-to-har.js"),HTTPSnippet=require("httpsnippet"),getEndpointSnippets=function(swagger,path,method,targets,values){void 0===values&&(values={});var har=SwaggerToHar.getEndpoint(swagger,path,method,values),snippet=new HTTPSnippet(har),snippets=[];for(var j in targets){var target=formatTarget(targets[j]);if(!target)throw new Error("Invalid target: "+targets[j]);snippets.push({id:targets[j],title:target.title,content:snippet.convert(target.language,void 0!==target.library?target.library:null)})}return{method:har.method,url:har.url,description:har.description,resource:getResourceName(har.url),snippets:snippets}},getSwaggerSnippets=function(swagger,targets){var harList=SwaggerToHar.getAll(swagger),results=[];for(var i in harList){var har=harList[i],snippet=new HTTPSnippet(har.har),snippets=[];for(var j in targets){var target=formatTarget(targets[j]);if(!target)throw new Error("Invalid target: "+targets[j]);snippets.push({id:targets[j],title:target.title,content:snippet.convert(target.language,void 0!==target.library?target.library:null)})}results.push({method:har.method,url:har.url,description:har.description,resource:getResourceName(har.url),snippets:snippets})}return results.sort(function(a,b){return a.resource<b.resource?-1:a.resource>b.resource?1:getMethodOrder(a.method.toLowerCase(),b.method.toLowerCase())}),results},getMethodOrder=function(a,b){var order=["get","post","put","delete","patch"];return-1===order.indexOf(a)?1:-1===order.indexOf(b)?-1:order.indexOf(a)<order.indexOf(b)?-1:order.indexOf(a)>order.indexOf(b)?1:0},getResourceName=function(urlStr){for(var pathComponents=urlStr.split("/"),i=pathComponents.length-1;i>=0;i--){var cand=pathComponents[i];if(""!==cand&&!/^{/.test(cand))return cand}},formatTarget=function(targetStr){var language=targetStr.split("_")[0],title=capitalizeFirstLetter(language),library=targetStr.split("_")[1],validTargets=HTTPSnippet.availableTargets(),validLanguage=!1,validLibrary=!1;for(var i in validTargets){var target=validTargets[i];if(language===target.key)if(validLanguage=!0,void 0===library)library=target.default,validLibrary=!0;else for(var j in target.clients){var client=target.clients[j];if(library===client.key){validLibrary=!0;break}}}return validLanguage&&validLibrary?{title:void 0!==library?title+" + "+capitalizeFirstLetter(library):title,language:language,library:library}:null},capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1)};if(module.exports={getSwaggerSnippets:getSwaggerSnippets,getEndpointSnippets:getEndpointSnippets},"undefined"!=typeof window){var SwaggerSnippet=window.SwaggerSnippet||{};SwaggerSnippet={getSwaggerSnippets:getSwaggerSnippets,getEndpointSnippets:getEndpointSnippets},window.SwaggerSnippet=SwaggerSnippet}},{"./swagger-to-har.js":121,httpsnippet:36}],2:[function(require,module,exports){"use strict";function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===b64[len-2]?2:"="===b64[len-1]?1:0}function byteLength(b64){return 3*b64.length/4-placeHoldersCount(b64)}function toByteArray(b64){var i,l,tmp,placeHolders,arr,len=b64.length;placeHolders=placeHoldersCount(b64),arr=new Arr(3*len/4-placeHolders),l=placeHolders>0?len-4:len;var L=0;for(i=0;i<l;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[L++]=tmp>>16&255,arr[L++]=tmp>>8&255,arr[L++]=255&tmp;return 2===placeHolders?(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[L++]=255&tmp):1===placeHolders&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[L++]=tmp>>8&255,arr[L++]=255&tmp),arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output.push(tripletToBase64(tmp));return output.join("")}function fromByteArray(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,output="",parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));return 1===extraBytes?(tmp=uint8[len-1],output+=lookup[tmp>>2],output+=lookup[tmp<<4&63],output+="=="):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],output+=lookup[tmp>>10],output+=lookup[tmp>>4&63],output+=lookup[tmp<<2&63],output+="="),parts.push(output),parts.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],3:[function(require,module,exports){},{}],4:[function(require,module,exports){(function(global){"use strict";function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length),that.__proto__=Buffer.prototype):(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?fromArrayBuffer(that,value,encodingOrOffset,length):"string"==typeof value?fromString(that,value,encodingOrOffset):fromObject(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function alloc(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromString(that,string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding);that=createBuffer(that,length);var actual=that.write(string,encoding);return actual!==length&&(that=that.slice(0,actual)),that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function fromArrayBuffer(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");return array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),Buffer.TYPED_ARRAY_SUPPORT?(that=array,that.__proto__=Buffer.prototype):that=fromArrayLike(that,array),that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return that=createBuffer(that,len),0===that.length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||isnan(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function SlowBuffer(length){return+length!=length&&(length=0),Buffer.alloc(+length)}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=stringtrim(str).replace(INVALID_BASE64_RE,""),str.length<2)return"";for(;str.length%4!=0;)str+="=";return str}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var codePoint,length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isnan(val){return val!==val}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start);var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT)newBuf=this.subarray(start,end),newBuf.__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,byteLength|=0,!noAssert){checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),
value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":2,ieee754:76,isarray:82}],5:[function(require,module,exports){(function(Buffer){function isArray(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return"[object Date]"===objectToString(d)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":78}],6:[function(require,module,exports){(function(process){function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function formatArgs(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),useColors){var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c)}}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG),r}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())}).call(this,require("_process"))},{"./debug":7,_process:88}],7:[function(require,module,exports){function selectColor(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}function createDebug(namespace){function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),exports.formatArgs.call(self,args);(debug.log||exports.log||console.log.bind(console)).apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=selectColor(namespace),"function"==typeof exports.init&&exports.init(debug),debug}function enable(namespaces){exports.save(namespaces),exports.names=[],exports.skips=[];for(var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length,i=0;i<len;i++)split[i]&&(namespaces=split[i].replace(/\*/g,".*?"),"-"===namespaces[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1}function coerce(val){return val instanceof Error?val.stack||val.message:val}exports=module.exports=createDebug.debug=createDebug.default=createDebug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime},{ms:85}],8:[function(require,module,exports){function forEach(arr,fn){if(arr.forEach)return arr.forEach(fn);for(var i=0;i<arr.length;i++)fn(arr[i],i)}function duplex(writer,reader){function proxyWriter(methodName){function method(){return writer[methodName].apply(writer,arguments)}stream[methodName]=method}function proxyReader(methodName){function method(){stream.emit(methodName);var func=reader[methodName];if(func)return func.apply(reader,arguments);reader.emit(methodName)}stream[methodName]=method}function proxyStream(methodName){function reemit(){var args=slice.call(arguments);args.unshift(methodName),stream.emit.apply(stream,args)}reader.on(methodName,reemit)}function handleEnd(){if(!ended){ended=!0;var args=slice.call(arguments);args.unshift("end"),stream.emit.apply(stream,args)}}function reemit(err){stream.emit("error",err)}var stream=new Stream,ended=!1;return forEach(writeMethods,proxyWriter),forEach(readMethods,proxyReader),forEach(readEvents,proxyStream),reader.on("end",handleEnd),writer.on("drain",function(){stream.emit("drain")}),writer.on("error",reemit),reader.on("error",reemit),stream.writable=writer.writable,stream.readable=reader.readable,stream}var Stream=require("stream"),writeMethods=["write","end","destroy"],readMethods=["resume","pause"],readEvents=["data","close"],slice=Array.prototype.slice;module.exports=duplex},{stream:109}],9:[function(require,module,exports){(function(process,global,Buffer){var Stream=require("stream").Stream,es=exports,through=require("through"),from=require("from"),duplex=require("duplexer"),map=require("map-stream"),pause=require("pause-stream"),split=require("split"),pipeline=require("stream-combiner"),immediately=global.setImmediate||process.nextTick;es.Stream=Stream,es.through=through,es.from=from,es.duplex=duplex,es.map=map,es.pause=pause,es.split=split,es.pipeline=es.connect=es.pipe=pipeline,es.concat=es.merge=function(){var toMerge=[].slice.call(arguments);1===toMerge.length&&toMerge[0]instanceof Array&&(toMerge=toMerge[0]);var stream=new Stream;stream.setMaxListeners(0);var endCount=0;return stream.writable=stream.readable=!0,toMerge.length?toMerge.forEach(function(e){e.pipe(stream,{end:!1});var ended=!1;e.on("end",function(){ended||(ended=!0,++endCount==toMerge.length&&stream.emit("end"))})}):process.nextTick(function(){stream.emit("end")}),stream.write=function(data){this.emit("data",data)},stream.destroy=function(){toMerge.forEach(function(e){e.destroy&&e.destroy()})},stream},es.writeArray=function(done){if("function"!=typeof done)throw new Error("function writeArray (done): done must be function");var a=new Stream,array=[],isDone=!1;return a.write=function(l){array.push(l)},a.end=function(){isDone=!0,done(null,array)},a.writable=!0,a.readable=!1,a.destroy=function(){a.writable=a.readable=!1,isDone||done(new Error("destroyed before end"),array)},a},es.readArray=function(array){var stream=new Stream,i=0,paused=!1,ended=!1;if(stream.readable=!0,stream.writable=!1,!Array.isArray(array))throw new Error("event-stream.read expects an array");return stream.resume=function(){if(!ended){paused=!1;for(var l=array.length;i<l&&!paused&&!ended;)stream.emit("data",array[i++]);i!=l||ended||(ended=!0,stream.readable=!1,stream.emit("end"))}},process.nextTick(stream.resume),stream.pause=function(){paused=!0},stream.destroy=function(){ended=!0,stream.emit("close")},stream},es.readable=function(func,continueOnError){function get(err,data){err?(stream.emit("error",err),continueOnError||stream.emit("end")):arguments.length>1&&stream.emit("data",data),immediately(function(){if(!(ended||paused||reading))try{reading=!0,func.call(stream,i++,function(){reading=!1,get.apply(null,arguments)})}catch(err){stream.emit("error",err)}})}var stream=new Stream,i=0,paused=!1,ended=!1,reading=!1;if(stream.readable=!0,stream.writable=!1,"function"!=typeof func)throw new Error("event-stream.readable expects async function");return stream.on("end",function(){ended=!0}),stream.resume=function(){paused=!1,get()},process.nextTick(get),stream.pause=function(){paused=!0},stream.destroy=function(){stream.emit("end"),stream.emit("close"),ended=!0},stream},es.mapSync=function(sync){return es.through(function(data){var mappedData;try{mappedData=sync(data)}catch(err){return this.emit("error",err)}void 0!==mappedData&&this.emit("data",mappedData)})},es.log=function(name){return es.through(function(data){[].slice.call(arguments);name?console.error(name,data):console.error(data),this.emit("data",data)})},es.child=function(child){return es.duplex(child.stdin,child.stdout)},es.parse=function(options){var emitError=!(!options||!options.error);return es.through(function(data){var obj;try{data&&(obj=JSON.parse(data.toString()))}catch(err){return emitError?this.emit("error",err):console.error(err,"attempting to parse:",data)}void 0!==obj&&this.emit("data",obj)})},es.stringify=function(){var Buffer=require("buffer").Buffer;return es.mapSync(function(e){return JSON.stringify(Buffer.isBuffer(e)?e.toString():e)+"\n"})},es.replace=function(from,to){return es.pipeline(es.split(from),es.join(to))},es.join=function(str){if("function"==typeof str)return es.wait(str);var first=!0;return es.through(function(data){return first||this.emit("data",str),first=!1,this.emit("data",data),!0})},es.wait=function(callback){var arr=[];return es.through(function(data){arr.push(data)},function(){var body=Buffer.isBuffer(arr[0])?Buffer.concat(arr):arr.join("");this.emit("data",body),this.emit("end"),callback&&callback(null,body)})},es.pipeable=function(){throw new Error("[EVENT-STREAM] es.pipeable is deprecated")}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer)},{_process:88,buffer:4,duplexer:8,from:12,"map-stream":84,"pause-stream":86,split:108,stream:109,"stream-combiner":110,through:112}],10:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},{}],11:[function(require,module,exports){module.exports=window.FormData},{}],12:[function(require,module,exports){(function(process){"use strict";var Stream=require("stream");module.exports=function from(source){function next(){if(s.started=!0,!s.ended)for(;!s.ended&&!s.paused&&source.call(s,i++,function(){s.ended||s.paused||process.nextTick(next)}););}if(Array.isArray(source)){var source_index=0,source_len=source.length;return from(function(i){return source_index<source_len?this.emit("data",source[source_index++]):this.emit("end"),!0})}var s=new Stream,i=0;return s.ended=!1,s.started=!1,s.readable=!0,s.writable=!1,s.paused=!1,s.ended=!1,s.pause=function(){s.started=!0,s.paused=!0},s.resume=function(){s.started=!0,s.paused=!1,next()},s.on("end",function(){s.ended=!0,s.readable=!1,process.nextTick(s.destroy)}),s.destroy=function(){s.ended=!0,s.emit("close")},process.nextTick(function(){s.started||s.resume()}),s}}).call(this,require("_process"))},{_process:88,stream:109}],13:[function(require,module,exports){var util=require("util"),INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/;module.exports=function(){var lines=[],indent=0,push=function(str){for(var spaces="";spaces.length<2*indent;)spaces+="  ";lines.push(spaces+str)},line=function(fmt){return fmt?INDENT_END.test(fmt.trim()[0])&&INDENT_START.test(fmt[fmt.length-1])?(indent--,push(util.format.apply(util,arguments)),indent++,line):INDENT_START.test(fmt[fmt.length-1])?(push(util.format.apply(util,arguments)),indent++,line):INDENT_END.test(fmt.trim()[0])?(indent--,push(util.format.apply(util,arguments)),line):(push(util.format.apply(util,arguments)),line):line};return line.toString=function(){return lines.join("\n")},line.toFunction=function(scope){var src="return ("+line.toString()+")",keys=Object.keys(scope||{}).map(function(key){return key}),vals=keys.map(function(key){return scope[key]});return Function.apply(null,keys.concat(src)).apply(null,vals)},arguments.length&&line.apply(null,arguments),line}},{util:118}],14:[function(require,module,exports){var isProperty=require("is-property"),gen=function(obj,prop){return isProperty(prop)?obj+"."+prop:obj+"["+JSON.stringify(prop)+"]"};gen.valid=isProperty,gen.property=function(prop){return isProperty(prop)?prop:JSON.stringify(prop)},module.exports=gen},{"is-property":81}],15:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function validator(schema){var data=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],cb=arguments[2],valid=!1,validate=(0,_isMyJsonValid2.default)(schema,{greedy:!0,verbose:!0,schemas:schemas});return valid=validate(data),"function"==typeof cb?cb(validate.errors?new _error2.default(validate.errors):null,valid):valid}function har(data,cb){return validator(schemas.har,data,cb)}function cache(data,cb){return validator(schemas.cache,data,cb)}function cacheEntry(data,cb){return validator(schemas.cacheEntry,data,cb)}function content(data,cb){return validator(schemas.content,data,cb)}function cookie(data,cb){return validator(schemas.cookie,data,cb)}function creator(data,cb){return validator(schemas.creator,data,cb)}function entry(data,cb){return validator(schemas.entry,data,cb)}function log(data,cb){return validator(schemas.log,data,cb)}function page(data,cb){return validator(schemas.page,data,cb)}function pageTimings(data,cb){return validator(schemas.pageTimings,data,cb)}function postData(data,cb){return validator(schemas.postData,data,cb)}function record(data,cb){return validator(schemas.record,data,cb)}function request(data,cb){return validator(schemas.request,data,cb)}function response(data,cb){return validator(schemas.response,data,cb)}function timings(data,cb){return validator(schemas.timings,data,cb)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.validator=validator,exports.default=har,exports.cache=cache,exports.cacheEntry=cacheEntry,exports.content=content,exports.cookie=cookie,exports.creator=creator,exports.entry=entry,exports.log=log,exports.page=page,exports.pageTimings=pageTimings,exports.postData=postData,exports.record=record,exports.request=request,exports.response=response,exports.timings=timings;var _schemas=require("./schemas"),schemas=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_schemas),_error=require("./error"),_error2=_interopRequireDefault(_error),_isMyJsonValid=require("is-my-json-valid"),_isMyJsonValid2=_interopRequireDefault(_isMyJsonValid)},{"./error":16,"./schemas":17,"is-my-json-valid":80}],16:[function(require,module,exports){"use strict";function HARError(errors){this.name="HARError",this.errors=errors}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=HARError,HARError.prototype=Error.prototype},{}],17:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.timings=exports.response=exports.request=exports.record=exports.postData=exports.pageTimings=exports.page=exports.log=exports.har=exports.entry=exports.creator=exports.cookie=exports.content=exports.cacheEntry=exports.cache=void 0;var _cache=require("../schemas/cache.json"),_cache2=_interopRequireDefault(_cache),_cacheEntry=require("../schemas/cacheEntry.json"),_cacheEntry2=_interopRequireDefault(_cacheEntry),_content=require("../schemas/content.json"),_content2=_interopRequireDefault(_content),_cookie=require("../schemas/cookie.json"),_cookie2=_interopRequireDefault(_cookie),_creator=require("../schemas/creator.json"),_creator2=_interopRequireDefault(_creator),_entry=require("../schemas/entry.json"),_entry2=_interopRequireDefault(_entry),_har=require("../schemas/har.json"),_har2=_interopRequireDefault(_har),_log=require("../schemas/log.json"),_log2=_interopRequireDefault(_log),_page=require("../schemas/page.json"),_page2=_interopRequireDefault(_page),_pageTimings=require("../schemas/pageTimings.json"),_pageTimings2=_interopRequireDefault(_pageTimings),_postData=require("../schemas/postData.json"),_postData2=_interopRequireDefault(_postData),_record=require("../schemas/record.json"),_record2=_interopRequireDefault(_record),_request=require("../schemas/request.json"),_request2=_interopRequireDefault(_request),_response=require("../schemas/response.json"),_response2=_interopRequireDefault(_response),_timings=require("../schemas/timings.json"),_timings2=_interopRequireDefault(_timings);_cache2.default.properties.beforeRequest=_cacheEntry2.default,_cache2.default.properties.afterRequest=_cacheEntry2.default,_page2.default.properties.pageTimings=_pageTimings2.default,_request2.default.properties.cookies.items=_cookie2.default,_request2.default.properties.headers.items=_record2.default,_request2.default.properties.queryString.items=_record2.default,_request2.default.properties.postData=_postData2.default,_response2.default.properties.cookies.items=_cookie2.default,_response2.default.properties.headers.items=_record2.default,_response2.default.properties.content=_content2.default,_entry2.default.properties.request=_request2.default,_entry2.default.properties.response=_response2.default,_entry2.default.properties.cache=_cache2.default,_entry2.default.properties.timings=_timings2.default,_log2.default.properties.creator=_creator2.default,_log2.default.properties.browser=_creator2.default,_log2.default.properties.pages.items=_page2.default,_log2.default.properties.entries.items=_entry2.default,_har2.default.properties.log=_log2.default,exports.cache=_cache2.default,exports.cacheEntry=_cacheEntry2.default,exports.content=_content2.default,exports.cookie=_cookie2.default,exports.creator=_creator2.default,exports.entry=_entry2.default,exports.har=_har2.default,exports.log=_log2.default,exports.page=_page2.default,exports.pageTimings=_pageTimings2.default,exports.postData=_postData2.default,exports.record=_record2.default,exports.request=_request2.default,exports.response=_response2.default,exports.timings=_timings2.default},{"../schemas/cache.json":18,"../schemas/cacheEntry.json":19,"../schemas/content.json":20,"../schemas/cookie.json":21,"../schemas/creator.json":22,"../schemas/entry.json":23,"../schemas/har.json":24,"../schemas/log.json":25,"../schemas/page.json":26,"../schemas/pageTimings.json":27,"../schemas/postData.json":28,"../schemas/record.json":29,"../schemas/request.json":30,"../schemas/response.json":31,"../schemas/timings.json":32}],18:[function(require,module,exports){module.exports={properties:{beforeRequest:{$ref:"#cacheEntry"},afterRequest:{$ref:"#cacheEntry"},comment:{type:"string"}}}},{}],19:[function(require,module,exports){module.exports={oneOf:[{type:"object",optional:!0,required:["lastAccess","eTag","hitCount"],properties:{expires:{type:"string"},lastAccess:{type:"string"},eTag:{type:"string"},hitCount:{type:"integer"},comment:{type:"string"}}},{type:null,additionalProperties:!1}]}},{}],20:[function(require,module,exports){module.exports={type:"object",required:["size","mimeType"],properties:{size:{type:"integer"},compression:{type:"integer"},mimeType:{type:"string"},text:{type:"string"},encoding:{type:"string"},comment:{type:"string"}}}},{}],21:[function(require,module,exports){module.exports={type:"object",required:["name","value"],properties:{name:{type:"string"},value:{type:"string"},path:{type:"string"},domain:{type:"string"},expires:{type:["string","null"],format:"date-time"},httpOnly:{type:"boolean"},secure:{type:"boolean"},comment:{type:"string"}}}},{}],22:[function(require,module,exports){module.exports={type:"object",required:["name","version"],properties:{name:{type:"string"},version:{type:"string"},comment:{type:"string"}}}},{}],23:[function(require,module,exports){module.exports={type:"object",optional:!0,required:["startedDateTime","time","request","response","cache","timings"],properties:{pageref:{type:"string"},startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},time:{type:"number",min:0},request:{$ref:"#request"},response:{$ref:"#response"},cache:{$ref:"#cache"},timings:{$ref:"#timings"},serverIPAddress:{type:"string",oneOf:[{format:"ipv4"},{format:"ipv6"}]},connection:{type:"string"},comment:{type:"string"}}}},{}],24:[function(require,module,exports){module.exports={type:"object",required:["log"],properties:{log:{$ref:"#log"}}}},{}],25:[function(require,module,exports){module.exports={type:"object",required:["version","creator","entries"],properties:{version:{type:"string"},creator:{$ref:"#creator"},browser:{$ref:"#creator"},pages:{type:"array",items:{$ref:"#page"}},entries:{type:"array",items:{$ref:"#entry"}},comment:{type:"string"}}}},{}],26:[function(require,module,exports){module.exports={type:"object",optional:!0,required:["startedDateTime","id","title","pageTimings"],properties:{startedDateTime:{type:"string",format:"date-time",pattern:"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},id:{type:"string",unique:!0},title:{type:"string"},pageTimings:{$ref:"#pageTimings"},comment:{type:"string"}}}},{}],27:[function(require,module,exports){module.exports={type:"object",properties:{onContentLoad:{type:"number",min:-1},onLoad:{type:"number",min:-1},comment:{type:"string"}}}},{}],28:[function(require,module,exports){module.exports={type:"object",optional:!0,required:["mimeType"],properties:{mimeType:{type:"string"},text:{type:"string"},params:{type:"array",required:["name"],properties:{name:{type:"string"},value:{type:"string"},fileName:{type:"string"},contentType:{type:"string"},comment:{type:"string"}}},comment:{type:"string"}}}},{}],29:[function(require,module,exports){module.exports={type:"object",required:["name","value"],properties:{name:{
type:"string"},value:{type:"string"},comment:{type:"string"}}}},{}],30:[function(require,module,exports){module.exports={type:"object",required:["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],properties:{method:{type:"string"},url:{type:"string",format:"uri"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"#cookie"}},headers:{type:"array",items:{$ref:"#record"}},queryString:{type:"array",items:{$ref:"#record"}},postData:{$ref:"#postData"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}}},{}],31:[function(require,module,exports){module.exports={type:"object",required:["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],properties:{status:{type:"integer"},statusText:{type:"string"},httpVersion:{type:"string"},cookies:{type:"array",items:{$ref:"#cookie"}},headers:{type:"array",items:{$ref:"#record"}},content:{$ref:"#content"},redirectURL:{type:"string"},headersSize:{type:"integer"},bodySize:{type:"integer"},comment:{type:"string"}}}},{}],32:[function(require,module,exports){module.exports={required:["send","wait","receive"],properties:{dns:{type:"number",min:-1},connect:{type:"number",min:-1},blocked:{type:"number",min:-1},send:{type:"number",min:-1},wait:{type:"number",min:-1},receive:{type:"number",min:-1},ssl:{type:"number",min:-1},comment:{type:"string"}}}},{}],33:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=function(indentation,join){this.code=[],this.indentation=indentation,this.lineJoin=join||"\n"};CodeBuilder.prototype.buildLine=function(indentationLevel,line){var lineIndentation="",slice=2;if("[object String]"===Object.prototype.toString.call(indentationLevel))slice=1,line=indentationLevel,indentationLevel=0;else if(null===indentationLevel)return null;for(;indentationLevel;)lineIndentation+=this.indentation,indentationLevel--;var format=Array.prototype.slice.call(arguments,slice,arguments.length);return format.unshift(lineIndentation+line),util.format.apply(this,format)},CodeBuilder.prototype.unshift=function(){return this.code.unshift(this.buildLine.apply(this,arguments)),this},CodeBuilder.prototype.push=function(){return this.code.push(this.buildLine.apply(this,arguments)),this},CodeBuilder.prototype.blank=function(){return this.code.push(null),this},CodeBuilder.prototype.join=function(){return this.code.join(this.lineJoin)},module.exports=CodeBuilder},{util:118}],34:[function(require,module,exports){"use strict";module.exports=function(obj,pair){if(void 0===obj[pair.name])return obj[pair.name]=pair.value,obj;var arr=[obj[pair.name],pair.value];return obj[pair.name]=arr,obj}},{}],35:[function(require,module,exports){"use strict";var util=require("util");module.exports={quote:function(value){return/^[a-z0-9-_\/.@%^=:]+$/i.test(value)?value:util.format("'%s'",value.replace(/'/g,"'\\''"))},escape:function(value){return value.replace(/\r/g,"\\r").replace(/\n/g,"\\n")}}},{util:118}],36:[function(require,module,exports){"use strict";var debug=require("debug")("httpsnippet"),es=require("event-stream"),MultiPartForm=require("form-data"),qs=require("querystring"),reducer=require("./helpers/reducer"),targets=require("./targets"),url=require("url"),util=require("util"),validate=require("har-validator/lib/async"),HTTPSnippet=function(data){var entries,self=this,input=util._extend({},data);self.requests=[],entries=input.log&&input.log.entries?input.log.entries:[{request:input}],entries.forEach(function(entry){entry.request.httpVersion=entry.request.httpVersion||"HTTP/1.1",entry.request.queryString=entry.request.queryString||[],entry.request.headers=entry.request.headers||[],entry.request.cookies=entry.request.cookies||[],entry.request.postData=entry.request.postData||{},entry.request.postData.mimeType=entry.request.postData.mimeType||"application/octet-stream",entry.request.bodySize=0,entry.request.headersSize=0,entry.request.postData.size=0,validate.request(entry.request,function(err,valid){if(!valid)throw err;self.requests.push(self.prepare(entry.request))})})};HTTPSnippet.prototype.prepare=function(request){request.queryObj={},request.headersObj={},request.cookiesObj={},request.allHeaders={},request.postData.jsonObj=!1,request.postData.paramsObj=!1,request.queryString&&request.queryString.length&&(debug("queryString found, constructing queryString pair map"),request.queryObj=request.queryString.reduce(reducer,{})),request.headers&&request.headers.length&&(request.headersObj=request.headers.reduceRight(function(headers,header){return headers[header.name.toLowerCase()]=header.value,headers},{})),request.cookies&&request.cookies.length&&(request.cookiesObj=request.cookies.reduceRight(function(cookies,cookie){return cookies[cookie.name]=cookie.value,cookies},{}));var cookies=request.cookies.map(function(cookie){return encodeURIComponent(cookie.name)+"="+encodeURIComponent(cookie.value)});switch(cookies.length&&(request.allHeaders.cookie=cookies.join("; ")),request.postData.mimeType){case"multipart/mixed":case"multipart/related":case"multipart/form-data":case"multipart/alternative":if(request.postData.text="",request.postData.mimeType="multipart/form-data",request.postData.params){var form=new MultiPartForm;form._boundary="---011000010111000001101001",request.postData.params.forEach(function(param){form.append(param.name,param.value||"",{filename:param.fileName||null,contentType:param.contentType||null})}),form.pipe(es.map(function(data,cb){request.postData.text+=data})),request.postData.boundary=form.getBoundary(),request.headersObj["content-type"]="multipart/form-data; boundary="+form.getBoundary()}break;case"application/x-www-form-urlencoded":request.postData.params?(request.postData.paramsObj=request.postData.params.reduce(reducer,{}),request.postData.text=qs.stringify(request.postData.paramsObj)):request.postData.text="";break;case"text/json":case"text/x-json":case"application/json":case"application/x-json":if(request.postData.mimeType="application/json",request.postData.text)try{request.postData.jsonObj=JSON.parse(request.postData.text)}catch(e){debug(e),request.postData.mimeType="text/plain"}}return request.allHeaders=util._extend(request.allHeaders,request.headersObj),request.uriObj=url.parse(request.url,!0,!0),request.queryObj=util._extend(request.queryObj,request.uriObj.query),request.uriObj.query=null,request.uriObj.search=null,request.uriObj.path=request.uriObj.pathname,request.url=url.format(request.uriObj),request.uriObj.query=request.queryObj,request.uriObj.search=qs.stringify(request.queryObj),request.uriObj.search&&(request.uriObj.path=request.uriObj.pathname+"?"+request.uriObj.search),request.fullUrl=url.format(request.uriObj),request},HTTPSnippet.prototype.convert=function(target,client,opts){!opts&&client&&(opts=client);var func=this._matchTarget(target,client);if(func){var results=this.requests.map(function(request){return func(request,opts)});return 1===results.length?results[0]:results}return!1},HTTPSnippet.prototype._matchTarget=function(target,client){return!!targets.hasOwnProperty(target)&&("string"==typeof client&&"function"==typeof targets[target][client]?targets[target][client]:targets[target][targets[target].info.default])},module.exports=HTTPSnippet,module.exports.availableTargets=function(){return Object.keys(targets).map(function(key){var target=util._extend({},targets[key].info),clients=Object.keys(targets[key]).filter(function(prop){return!~["info","index"].indexOf(prop)}).map(function(client){return targets[key][client].info});return clients.length&&(target.clients=clients),target})},module.exports.extname=function(target){return targets[target]?targets[target].info.extname:""}},{"./helpers/reducer":34,"./targets":43,debug:6,"event-stream":9,"form-data":11,"har-validator/lib/async":15,querystring:92,url:113,util:118}],37:[function(require,module,exports){"use strict";module.exports={info:{key:"c",title:"C",extname:".c",default:"libcurl"},libcurl:require("./libcurl")}},{"./libcurl":38}],38:[function(require,module,exports){"use strict";var CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var code=new CodeBuilder;code.push("CURL *hnd = curl_easy_init();").blank().push('curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "%s");',source.method.toUpperCase()).push('curl_easy_setopt(hnd, CURLOPT_URL, "%s");',source.fullUrl);var headers=Object.keys(source.headersObj);return headers.length&&(code.blank().push("struct curl_slist *headers = NULL;"),headers.forEach(function(key){code.push('headers = curl_slist_append(headers, "%s: %s");',key,source.headersObj[key])}),code.push("curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);")),source.allHeaders.cookie&&code.blank().push('curl_easy_setopt(hnd, CURLOPT_COOKIE, "%s");',source.allHeaders.cookie),source.postData.text&&code.blank().push("curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, %s);",JSON.stringify(source.postData.text)),code.blank().push("CURLcode ret = curl_easy_perform(hnd);"),code.join()},module.exports.info={key:"libcurl",title:"Libcurl",link:"http://curl.haxx.se/libcurl/",description:"Simple REST and HTTP API Client for C"}},{"../../helpers/code-builder":33}],39:[function(require,module,exports){"use strict";module.exports={info:{key:"csharp",title:"C#",extname:".cs",default:"restsharp"},restsharp:require("./restsharp")}},{"./restsharp":40}],40:[function(require,module,exports){"use strict";var CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var code=new CodeBuilder;if(-1===["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].indexOf(source.method.toUpperCase()))return"Method not supported";code.push('var client = new RestClient("%s");',source.fullUrl),code.push("var request = new RestRequest(Method.%s);",source.method.toUpperCase());var headers=Object.keys(source.headersObj);return headers.length&&headers.forEach(function(key){code.push('request.AddHeader("%s", "%s");',key,source.headersObj[key])}),source.cookies.length&&source.cookies.forEach(function(cookie){code.push('request.AddCookie("%s", "%s");',cookie.name,cookie.value)}),source.postData.text&&code.push('request.AddParameter("%s", %s, ParameterType.RequestBody);',source.allHeaders["content-type"],JSON.stringify(source.postData.text)),code.push("IRestResponse response = client.Execute(request);"),code.join()},module.exports.info={key:"restsharp",title:"RestSharp",link:"http://restsharp.org/",description:"Simple REST and HTTP API Client for .NET"}},{"../../helpers/code-builder":33}],41:[function(require,module,exports){"use strict";module.exports={info:{key:"go",title:"Go",extname:".go",default:"native"},native:require("./native")}},{"./native":42}],42:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var code=new CodeBuilder("\t"),opts=util._extend({showBoilerplate:!0,checkErrors:!1,printBody:!0,timeout:-1},options),errorPlaceholder=opts.checkErrors?"err":"_",indent=opts.showBoilerplate?1:0,errorCheck=function(){opts.checkErrors&&code.push(indent,"if err != nil {").push(indent+1,"panic(err)").push(indent,"}")};opts.showBoilerplate&&(code.push("package main").blank().push("import (").push(indent,'"fmt"'),opts.timeout>0&&code.push(indent,'"time"'),source.postData.text&&code.push(indent,'"strings"'),code.push(indent,'"net/http"'),opts.printBody&&code.push(indent,'"io/ioutil"'),code.push(")").blank().push("func main() {").blank());var client;return opts.timeout>0?(client="client",code.push(indent,"client := http.Client{").push(indent+1,"Timeout: time.Duration(%s * time.Second),",opts.timeout).push(indent,"}").blank()):client="http.DefaultClient",code.push(indent,'url := "%s"',source.fullUrl).blank(),source.postData.text?code.push(indent,"payload := strings.NewReader(%s)",JSON.stringify(source.postData.text)).blank().push(indent,'req, %s := http.NewRequest("%s", url, payload)',errorPlaceholder,source.method).blank():code.push(indent,'req, %s := http.NewRequest("%s", url, nil)',errorPlaceholder,source.method).blank(),errorCheck(),Object.keys(source.allHeaders).length&&(Object.keys(source.allHeaders).forEach(function(key){code.push(indent,'req.Header.Add("%s", "%s")',key,source.allHeaders[key])}),code.blank()),code.push(indent,"res, %s := %s.Do(req)",errorPlaceholder,client),errorCheck(),opts.printBody&&(code.blank().push(indent,"defer res.Body.Close()").push(indent,"body, %s := ioutil.ReadAll(res.Body)",errorPlaceholder),errorCheck()),code.blank().push(indent,"fmt.Println(res)"),opts.printBody&&code.push(indent,"fmt.Println(string(body))"),opts.showBoilerplate&&code.blank().push("}"),code.join()},module.exports.info={key:"native",title:"NewRequest",link:"http://golang.org/pkg/net/http/#NewRequest",description:"Golang HTTP client request"}},{"../../helpers/code-builder":33,util:118}],43:[function(require,module,exports){"use strict";module.exports={c:require("./c"),csharp:require("./csharp"),go:require("./go"),java:require("./java"),javascript:require("./javascript"),node:require("./node"),objc:require("./objc"),ocaml:require("./ocaml"),php:require("./php"),python:require("./python"),ruby:require("./ruby"),shell:require("./shell"),swift:require("./swift")}},{"./c":37,"./csharp":39,"./go":41,"./java":44,"./javascript":47,"./node":50,"./objc":55,"./ocaml":58,"./php":63,"./python":64,"./ruby":67,"./shell":71,"./swift":74}],44:[function(require,module,exports){"use strict";module.exports={info:{key:"java",title:"Java",extname:".java",default:"unirest"},okhttp:require("./okhttp"),unirest:require("./unirest")}},{"./okhttp":45,"./unirest":46}],45:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),code=new CodeBuilder(opts.indent),methods=["GET","POST","PUT","DELETE","PATCH","HEAD"],methodsWithBody=["POST","PUT","DELETE","PATCH"];code.push("OkHttpClient client = new OkHttpClient();").blank(),source.postData.text&&(source.postData.boundary?code.push('MediaType mediaType = MediaType.parse("%s; boundary=%s");',source.postData.mimeType,source.postData.boundary):code.push('MediaType mediaType = MediaType.parse("%s");',source.postData.mimeType),code.push("RequestBody body = RequestBody.create(mediaType, %s);",JSON.stringify(source.postData.text))),code.push("Request request = new Request.Builder()"),code.push(1,'.url("%s")',source.fullUrl),-1===methods.indexOf(source.method.toUpperCase())?source.postData.text?code.push(1,'.method("%s", body)',source.method.toUpperCase()):code.push(1,'.method("%s", null)',source.method.toUpperCase()):methodsWithBody.indexOf(source.method.toUpperCase())>=0?source.postData.text?code.push(1,".%s(body)",source.method.toLowerCase()):code.push(1,".%s(null)",source.method.toLowerCase()):code.push(1,".%s()",source.method.toLowerCase());var headers=Object.keys(source.allHeaders);return headers.length&&headers.forEach(function(key){code.push(1,'.addHeader("%s", "%s")',key,source.allHeaders[key])}),code.push(1,".build();").blank().push("Response response = client.newCall(request).execute();"),code.join()},module.exports.info={key:"okhttp",title:"OkHttp",link:"http://square.github.io/okhttp/",description:"An HTTP Request Client Library"}},{"../../helpers/code-builder":33,util:118}],46:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),code=new CodeBuilder(opts.indent);-1===["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].indexOf(source.method.toUpperCase())?code.push('HttpResponse<String> response = Unirest.customMethod("%s","%s")',source.method.toUpperCase(),source.fullUrl):code.push('HttpResponse<String> response = Unirest.%s("%s")',source.method.toLowerCase(),source.fullUrl);var headers=Object.keys(source.allHeaders);return headers.length&&headers.forEach(function(key){code.push(1,'.header("%s", "%s")',key,source.allHeaders[key])}),source.postData.text&&code.push(1,".body(%s)",JSON.stringify(source.postData.text)),code.push(1,".asString();"),code.join()},module.exports.info={key:"unirest",title:"Unirest",link:"http://unirest.io/java.html",description:"Lightweight HTTP Request Client Library"}},{"../../helpers/code-builder":33,util:118}],47:[function(require,module,exports){"use strict";module.exports={info:{key:"javascript",title:"JavaScript",extname:".js",default:"xhr"},jquery:require("./jquery"),xhr:require("./xhr")}},{"./jquery":48,"./xhr":49}],48:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),code=new CodeBuilder(opts.indent),settings={async:!0,crossDomain:!0,url:source.fullUrl,method:source.method,headers:source.allHeaders};switch(source.postData.mimeType){case"application/x-www-form-urlencoded":settings.data=source.postData.paramsObj?source.postData.paramsObj:source.postData.text;break;case"application/json":settings.processData=!1,settings.data=source.postData.text;break;case"multipart/form-data":code.push("var form = new FormData();"),source.postData.params.forEach(function(param){code.push("form.append(%s, %s);",JSON.stringify(param.name),JSON.stringify(param.value||param.fileName||""))}),settings.processData=!1,settings.contentType=!1,settings.mimeType="multipart/form-data",settings.data="[form]",~settings.headers["content-type"].indexOf("boundary")&&delete settings.headers["content-type"],code.blank();break;default:source.postData.text&&(settings.data=source.postData.text)}return code.push("var settings = "+JSON.stringify(settings,null,opts.indent).replace('"[form]"',"form")).blank().push("$.ajax(settings).done(function (response) {").push(1,"console.log(response);").push("});"),code.join()},module.exports.info={key:"jquery",title:"jQuery",link:"http://api.jquery.com/jquery.ajax/",description:"Perform an asynchronous HTTP (Ajax) requests with jQuery"}},{"../../helpers/code-builder":33,util:118}],49:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  ",cors:!0},options),code=new CodeBuilder(opts.indent);switch(source.postData.mimeType){case"application/json":code.push("var data = JSON.stringify(%s);",JSON.stringify(source.postData.jsonObj,null,opts.indent)).push(null);break;case"multipart/form-data":code.push("var data = new FormData();"),source.postData.params.forEach(function(param){code.push("data.append(%s, %s);",JSON.stringify(param.name),JSON.stringify(param.value||param.fileName||""))}),source.allHeaders["content-type"].indexOf("boundary")&&delete source.allHeaders["content-type"],code.blank();break;default:code.push("var data = %s;",JSON.stringify(source.postData.text||null)).blank()}return code.push("var xhr = new XMLHttpRequest();"),opts.cors&&code.push("xhr.withCredentials = true;"),code.blank().push('xhr.addEventListener("readystatechange", function () {').push(1,"if (this.readyState === this.DONE) {").push(2,"console.log(this.responseText);").push(1,"}").push("});").blank().push("xhr.open(%s, %s);",JSON.stringify(source.method),JSON.stringify(source.fullUrl)),Object.keys(source.allHeaders).forEach(function(key){code.push("xhr.setRequestHeader(%s, %s);",JSON.stringify(key),JSON.stringify(source.allHeaders[key]))}),code.blank().push("xhr.send(data);"),code.join()},module.exports.info={key:"xhr",title:"XMLHttpRequest",link:"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest",description:"W3C Standard API that provides scripted client functionality"}},{"../../helpers/code-builder":33,util:118}],50:[function(require,module,exports){"use strict";module.exports={info:{key:"node",title:"Node.js",extname:".js",default:"native"},native:require("./native"),request:require("./request"),unirest:require("./unirest")}},{"./native":51,"./request":52,"./unirest":53}],51:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),code=new CodeBuilder(opts.indent),reqOpts={method:source.method,hostname:source.uriObj.hostname,port:source.uriObj.port,path:source.uriObj.path,headers:source.allHeaders};switch(code.push('var http = require("%s");',source.uriObj.protocol.replace(":","")),code.blank().push("var options = %s;",JSON.stringify(reqOpts,null,opts.indent)).blank().push("var req = http.request(options, function (res) {").push(1,"var chunks = [];").blank().push(1,'res.on("data", function (chunk) {').push(2,"chunks.push(chunk);").push(1,"});").blank().push(1,'res.on("end", function () {').push(2,"var body = Buffer.concat(chunks);").push(2,"console.log(body.toString());").push(1,"});").push("});").blank(),source.postData.mimeType){case"application/x-www-form-urlencoded":source.postData.paramsObj&&(code.unshift('var qs = require("querystring");'),code.push("req.write(qs.stringify(%s));",util.inspect(source.postData.paramsObj,{depth:null})));break;case"application/json":source.postData.jsonObj&&code.push("req.write(JSON.stringify(%s));",util.inspect(source.postData.jsonObj,{depth:null}));break;default:source.postData.text&&code.push("req.write(%s);",JSON.stringify(source.postData.text,null,opts.indent))}return code.push("req.end();"),code.join()},module.exports.info={key:"native",title:"HTTP",link:"http://nodejs.org/api/http.html#http_http_request_options_callback",description:"Node.js native HTTP interface"}},{"../../helpers/code-builder":33,util:118}],52:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),includeFS=!1,code=new CodeBuilder(opts.indent);code.push('var request = require("request");').blank();var reqOpts={method:source.method,url:source.url};switch(Object.keys(source.queryObj).length&&(reqOpts.qs=source.queryObj),Object.keys(source.headersObj).length&&(reqOpts.headers=source.headersObj),source.postData.mimeType){case"application/x-www-form-urlencoded":reqOpts.form=source.postData.paramsObj;break;case"application/json":source.postData.jsonObj&&(reqOpts.body=source.postData.jsonObj,reqOpts.json=!0);break;case"multipart/form-data":reqOpts.formData={},source.postData.params.forEach(function(param){var attachement={};if(!param.fileName&&!param.fileName&&!param.contentType)return void(reqOpts.formData[param.name]=param.value);param.fileName&&!param.value?(includeFS=!0,attachement.value='fs.createReadStream("'+param.fileName+'")'):param.value&&(attachement.value=param.value),param.fileName&&(attachement.options={filename:param.fileName,contentType:param.contentType?param.contentType:null}),reqOpts.formData[param.name]=attachement});break;default:source.postData.text&&(reqOpts.body=source.postData.text)}if(source.cookies.length){reqOpts.jar="JAR",code.push("var jar = request.jar();");var url=source.url;source.cookies.forEach(function(cookie){code.push('jar.setCookie(request.cookie("%s=%s"), "%s");',encodeURIComponent(cookie.name),encodeURIComponent(cookie.value),url)}),code.blank()}return includeFS&&code.unshift('var fs = require("fs");'),code.push("var options = %s;",util.inspect(reqOpts,{depth:null})).blank(),code.push(util.format("request(options, %s","function (error, response, body) {")).push(1,"if (error) throw new Error(error);").blank().push(1,"console.log(body);").push("});").blank(),code.join().replace('"JAR"',"jar").replace(/"fs\.createReadStream\(\\\"(.+)\\\"\)\"/,'fs.createReadStream("$1")')},module.exports.info={key:"request",title:"Request",link:"https://github.com/request/request",description:"Simplified HTTP request client"}},{"../../helpers/code-builder":33,util:118}],53:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),includeFS=!1,code=new CodeBuilder(opts.indent);switch(code.push('var unirest = require("unirest");').blank().push('var req = unirest("%s", "%s");',source.method,source.url).blank(),source.cookies.length&&(code.push("var CookieJar = unirest.jar();"),source.cookies.forEach(function(cookie){code.push('CookieJar.add("%s=%s","%s");',encodeURIComponent(cookie.name),encodeURIComponent(cookie.value),source.url)}),code.push("req.jar(CookieJar);").blank()),Object.keys(source.queryObj).length&&code.push("req.query(%s);",JSON.stringify(source.queryObj,null,opts.indent)).blank(),Object.keys(source.headersObj).length&&code.push("req.headers(%s);",JSON.stringify(source.headersObj,null,opts.indent)).blank(),source.postData.mimeType){case"application/x-www-form-urlencoded":source.postData.paramsObj&&code.push("req.form(%s);",JSON.stringify(source.postData.paramsObj,null,opts.indent));break;case"application/json":source.postData.jsonObj&&code.push('req.type("json");').push("req.send(%s);",JSON.stringify(source.postData.jsonObj,null,opts.indent));break;case"multipart/form-data":var multipart=[];source.postData.params.forEach(function(param){var part={};param.fileName&&!param.value?(includeFS=!0,part.body='fs.createReadStream("'+param.fileName+'")'):param.value&&(part.body=param.value),part.body&&(param.contentType&&(part["content-type"]=param.contentType),multipart.push(part))}),code.push("req.multipart(%s);",JSON.stringify(multipart,null,opts.indent));break;default:source.postData.text&&code.push(opts.indent+"req.send(%s);",JSON.stringify(source.postData.text,null,opts.indent))}return includeFS&&code.unshift('var fs = require("fs");'),code.blank().push("req.end(function (res) {").push(1,"if (res.error) throw new Error(res.error);").blank().push(1,"console.log(res.body);").push("});").blank(),code.join().replace(/"fs\.createReadStream\(\\\"(.+)\\\"\)\"/,'fs.createReadStream("$1")')},module.exports.info={key:"unirest",title:"Unirest",link:"http://unirest.io/nodejs.html",description:"Lightweight HTTP Request Client Library"}},{"../../helpers/code-builder":33,util:118}],54:[function(require,module,exports){"use strict";var util=require("util");module.exports={blankString:function(length){return Array.apply(null,new Array(length)).map(String.prototype.valueOf," ").join("")},nsDeclaration:function(nsClass,name,parameters,indent){var opening=nsClass+" *"+name+" = ";return opening+this.literalRepresentation(parameters,indent?opening.length:void 0)+";"},literalRepresentation:function(value,indentation){var join=void 0===indentation?", ":",\n   "+this.blankString(indentation);switch(Object.prototype.toString.call(value)){case"[object Number]":return"@"+value;case"[object Array]":return"@[ "+value.map(function(v){return this.literalRepresentation(v)}.bind(this)).join(join)+" ]";case"[object Object]":var keyValuePairs=[];for(var k in value)keyValuePairs.push(util.format('@"%s": %s',k,this.literalRepresentation(value[k])));return"@{ "+keyValuePairs.join(join)+" }";case"[object Boolean]":return value?"@YES":"@NO";default:return'@"'+value.toString().replace(/"/g,'\\"')+'"'}}}},{util:118}],55:[function(require,module,exports){"use strict";module.exports={info:{key:"objc",title:"Objective-C",extname:".m",default:"nsurlsession"},nsurlsession:require("./nsurlsession")}},{"./nsurlsession":56}],56:[function(require,module,exports){"use strict";var util=require("util"),helpers=require("./helpers"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"    ",pretty:!0,timeout:"10"},options),code=new CodeBuilder(opts.indent),req={hasHeaders:!1,hasBody:!1};if(code.push("#import <Foundation/Foundation.h>"),Object.keys(source.allHeaders).length&&(req.hasHeaders=!0,code.blank().push(helpers.nsDeclaration("NSDictionary","headers",source.allHeaders,opts.pretty))),source.postData.text||source.postData.jsonObj||source.postData.params)switch(req.hasBody=!0,source.postData.mimeType){case"application/x-www-form-urlencoded":code.blank().push('NSMutableData *postData = [[NSMutableData alloc] initWithData:[@"%s=%s" dataUsingEncoding:NSUTF8StringEncoding]];',source.postData.params[0].name,source.postData.params[0].value);for(var i=1,len=source.postData.params.length;i<len;i++)code.push('[postData appendData:[@"&%s=%s" dataUsingEncoding:NSUTF8StringEncoding]];',source.postData.params[i].name,source.postData.params[i].value);break;case"application/json":source.postData.jsonObj&&code.push(helpers.nsDeclaration("NSDictionary","parameters",source.postData.jsonObj,opts.pretty)).blank().push("NSData *postData = [NSJSONSerialization dataWithJSONObject:parameters options:0 error:nil];");break;case"multipart/form-data":code.push(helpers.nsDeclaration("NSArray","parameters",source.postData.params,opts.pretty)).push('NSString *boundary = @"%s";',source.postData.boundary).blank().push("NSError *error;").push("NSMutableString *body = [NSMutableString string];").push("for (NSDictionary *param in parameters) {").push(1,'[body appendFormat:@"--%@\\r\\n", boundary];').push(1,'if (param[@"fileName"]) {').push(2,'[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"; filename=\\"%@\\"\\r\\n", param[@"name"], param[@"fileName"]];').push(2,'[body appendFormat:@"Content-Type: %@\\r\\n\\r\\n", param[@"contentType"]];').push(2,'[body appendFormat:@"%@", [NSString stringWithContentsOfFile:param[@"fileName"] encoding:NSUTF8StringEncoding error:&error]];').push(2,"if (error) {").push(3,'NSLog(@"%@", error);').push(2,"}").push(1,"} else {").push(2,'[body appendFormat:@"Content-Disposition:form-data; name=\\"%@\\"\\r\\n\\r\\n", param[@"name"]];').push(2,'[body appendFormat:@"%@", param[@"value"]];').push(1,"}").push("}").push('[body appendFormat:@"\\r\\n--%@--\\r\\n", boundary];').push("NSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];");break;default:code.blank().push('NSData *postData = [[NSData alloc] initWithData:[@"'+source.postData.text+'" dataUsingEncoding:NSUTF8StringEncoding]];')}return code.blank().push('NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"'+source.fullUrl+'"]').push("                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy").push("                                                   timeoutInterval:"+parseInt(opts.timeout,10).toFixed(1)+"];").push('[request setHTTPMethod:@"'+source.method+'"];'),req.hasHeaders&&code.push("[request setAllHTTPHeaderFields:headers];"),req.hasBody&&code.push("[request setHTTPBody:postData];"),code.blank().push("NSURLSession *session = [NSURLSession sharedSession];").push("NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request").push("                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {").push(1,"                                            if (error) {").push(2,'                                            NSLog(@"%@", error);').push(1,"                                            } else {").push(2,"                                            NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;").push(2,'                                            NSLog(@"%@", httpResponse);').push(1,"                                            }").push("                                            }];").push("[dataTask resume];"),code.join()},module.exports.info={key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"}},{"../../helpers/code-builder":33,"./helpers":54,util:118}],
57:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  "},options),methods=["get","post","head","delete","patch","put","options"],code=new CodeBuilder(opts.indent);code.push("open Cohttp_lwt_unix").push("open Cohttp").push("open Lwt").blank().push('let uri = Uri.of_string "%s" in',source.fullUrl);var headers=Object.keys(source.allHeaders);return 1===headers.length?code.push('let headers = Header.add (Header.init ()) "%s" "%s" in',headers[0],source.allHeaders[headers[0]]):headers.length>1&&(code.push("let headers = Header.add_list (Header.init ()) ["),headers.forEach(function(key){code.push(1,'("%s", "%s");',key,source.allHeaders[key])}),code.push("] in")),source.postData.text&&code.push("let body = Cohttp_lwt_body.of_string %s in",JSON.stringify(source.postData.text)),code.blank(),code.push("Client.call %s%s%s uri",headers.length?"~headers ":"",source.postData.text?"~body ":"",methods.indexOf(source.method.toLowerCase())>=0?"`"+source.method.toUpperCase():'(Code.method_of_string "'+source.method+'")'),code.push(">>= fun (res, body_stream) ->").push(1,"(* Do stuff with the result *)"),code.join()},module.exports.info={key:"cohttp",title:"CoHTTP",link:"https://github.com/mirage/ocaml-cohttp",description:"Cohttp is a very lightweight HTTP server using Lwt or Async for OCaml"}},{"../../helpers/code-builder":33,util:118}],58:[function(require,module,exports){"use strict";module.exports={info:{key:"ocaml",title:"OCaml",extname:".ml",default:"cohttp"},cohttp:require("./cohttp")}},{"./cohttp":57}],59:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({closingTag:!1,indent:"  ",maxRedirects:10,namedErrors:!1,noTags:!1,shortTags:!1,timeout:30},options),code=new CodeBuilder(opts.indent);opts.noTags||code.push(opts.shortTags?"<?":"<?php").blank(),code.push("$curl = curl_init();").blank();var curlOptions=[{escape:!0,name:"CURLOPT_PORT",value:source.uriObj.port},{escape:!0,name:"CURLOPT_URL",value:source.fullUrl},{escape:!1,name:"CURLOPT_RETURNTRANSFER",value:"true"},{escape:!0,name:"CURLOPT_ENCODING",value:""},{escape:!1,name:"CURLOPT_MAXREDIRS",value:opts.maxRedirects},{escape:!1,name:"CURLOPT_TIMEOUT",value:opts.timeout},{escape:!1,name:"CURLOPT_HTTP_VERSION",value:"HTTP/1.0"===source.httpVersion?"CURL_HTTP_VERSION_1_0":"CURL_HTTP_VERSION_1_1"},{escape:!0,name:"CURLOPT_CUSTOMREQUEST",value:source.method},{escape:!0,name:"CURLOPT_POSTFIELDS",value:source.postData?source.postData.text:void 0}];code.push("curl_setopt_array($curl, array(");var curlopts=new CodeBuilder(opts.indent,"\n"+opts.indent);curlOptions.forEach(function(option){~[null,void 0].indexOf(option.value)||curlopts.push(util.format("%s => %s,",option.name,option.escape?JSON.stringify(option.value):option.value))});var cookies=source.cookies.map(function(cookie){return encodeURIComponent(cookie.name)+"="+encodeURIComponent(cookie.value)});cookies.length&&curlopts.push(util.format('CURLOPT_COOKIE => "%s",',cookies.join("; ")));var headers=Object.keys(source.headersObj).sort().map(function(key){return util.format('"%s: %s"',key,source.headersObj[key])});return headers.length&&curlopts.push("CURLOPT_HTTPHEADER => array(").push(1,headers.join(",\n"+opts.indent+opts.indent)).push("),"),code.push(1,curlopts.join()).push("));").blank().push("$response = curl_exec($curl);").push("$err = curl_error($curl);").blank().push("curl_close($curl);").blank().push("if ($err) {"),opts.namedErrors?code.push(1,'echo array_flip(get_defined_constants(true)["curl"])[$err];'):code.push(1,'echo "cURL Error #:" . $err;'),code.push("} else {").push(1,"echo $response;").push("}"),!opts.noTags&&opts.closingTag&&code.blank().push("?>"),code.join()},module.exports.info={key:"curl",title:"cURL",link:"http://php.net/manual/en/book.curl.php",description:"PHP with ext-curl"}},{"../../helpers/code-builder":33,util:118}],60:[function(require,module,exports){"use strict";var convert=function(obj,indent,last_indent){var i,result;switch(last_indent||(last_indent=""),Object.prototype.toString.call(obj)){case"[object Null]":case"[object Undefined]":result="null";break;case"[object String]":result="'"+obj.replace(/\\/g,"\\\\").replace(/\'/g,"'")+"'";break;case"[object Number]":result=obj.toString();break;case"[object Array]":result=[],obj.forEach(function(item){result.push(convert(item,indent+indent,indent))}),result="array(\n"+indent+result.join(",\n"+indent)+"\n"+last_indent+")";break;case"[object Object]":result=[];for(i in obj)obj.hasOwnProperty(i)&&result.push(convert(i,indent)+" => "+convert(obj[i],indent+indent,indent));result="array(\n"+indent+result.join(",\n"+indent)+"\n"+last_indent+")";break;default:result="null"}return result};module.exports={convert:convert,methods:["ACL","BASELINE_CONTROL","CHECKIN","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LABEL","LOCK","MERGE","MKACTIVITY","MKCOL","MKWORKSPACE","MOVE","OPTIONS","POST","PROPFIND","PROPPATCH","PUT","REPORT","TRACE","UNCHECKOUT","UNLOCK","UPDATE","VERSION_CONTROL"]}},{}],61:[function(require,module,exports){"use strict";var util=require("util"),helpers=require("./helpers"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({closingTag:!1,indent:"  ",noTags:!1,shortTags:!1},options),code=new CodeBuilder(opts.indent);switch(opts.noTags||code.push(opts.shortTags?"<?":"<?php").blank(),~helpers.methods.indexOf(source.method.toUpperCase())||code.push("HttpRequest::methodRegister('%s');",source.method),code.push("$request = new HttpRequest();").push("$request->setUrl(%s);",helpers.convert(source.url)),~helpers.methods.indexOf(source.method.toUpperCase())?code.push("$request->setMethod(HTTP_METH_%s);",source.method.toUpperCase()):code.push("$request->setMethod(HttpRequest::HTTP_METH_%s);",source.method.toUpperCase()),code.blank(),Object.keys(source.queryObj).length&&code.push("$request->setQueryData(%s);",helpers.convert(source.queryObj,opts.indent)).blank(),Object.keys(source.headersObj).length&&code.push("$request->setHeaders(%s);",helpers.convert(source.headersObj,opts.indent)).blank(),Object.keys(source.cookiesObj).length&&code.push("$request->setCookies(%s);",helpers.convert(source.cookiesObj,opts.indent)).blank(),source.postData.mimeType){case"application/x-www-form-urlencoded":code.push("$request->setContentType(%s);",helpers.convert(source.postData.mimeType)).push("$request->setPostFields(%s);",helpers.convert(source.postData.paramsObj,opts.indent)).blank();break;default:source.postData.text&&code.push("$request->setBody(%s);",helpers.convert(source.postData.text)).blank()}return code.push("try {").push(1,"$response = $request->send();").blank().push(1,"echo $response->getBody();").push("} catch (HttpException $ex) {").push(1,"echo $ex;").push("}"),!opts.noTags&&opts.closingTag&&code.blank().push("?>"),code.join()},module.exports.info={key:"http1",title:"HTTP v1",link:"http://php.net/manual/en/book.http.php",description:"PHP with pecl/http v1"}},{"../../helpers/code-builder":33,"./helpers":60,util:118}],62:[function(require,module,exports){"use strict";var util=require("util"),helpers=require("./helpers"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({closingTag:!1,indent:"  ",noTags:!1,shortTags:!1},options),code=new CodeBuilder(opts.indent),hasBody=!1;switch(opts.noTags||code.push(opts.shortTags?"<?":"<?php").blank(),code.push("$client = new http\\Client;").push("$request = new http\\Client\\Request;").blank(),source.postData.mimeType){case"application/x-www-form-urlencoded":code.push("$body = new http\\Message\\Body;").push("$body->append(new http\\QueryString(%s));",helpers.convert(source.postData.paramsObj,opts.indent)).blank(),hasBody=!0;break;case"multipart/form-data":var files=[],fields={};source.postData.params.forEach(function(param){param.fileName?files.push({name:param.name,type:param.contentType,file:param.fileName,data:param.value}):param.value&&(fields[param.name]=param.value)}),code.push("$body = new http\\Message\\Body;").push("$body->addForm(%s, %s);",Object.keys(fields).length?helpers.convert(fields,opts.indent):"NULL",files.length?helpers.convert(files,opts.indent):"NULL"),~source.headersObj["content-type"].indexOf("boundary")&&delete source.headersObj["content-type"],code.blank(),hasBody=!0;break;default:source.postData.text&&(code.push("$body = new http\\Message\\Body;").push("$body->append(%s);",helpers.convert(source.postData.text)).blank(),hasBody=!0)}return code.push("$request->setRequestUrl(%s);",helpers.convert(source.url)).push("$request->setRequestMethod(%s);",helpers.convert(source.method)),hasBody&&code.push("$request->setBody($body);").blank(),Object.keys(source.queryObj).length&&code.push("$request->setQuery(new http\\QueryString(%s));",helpers.convert(source.queryObj,opts.indent)).blank(),Object.keys(source.headersObj).length&&code.push("$request->setHeaders(%s);",helpers.convert(source.headersObj,opts.indent)).blank(),Object.keys(source.cookiesObj).length&&code.blank().push("$client->setCookies(%s);",helpers.convert(source.cookiesObj,opts.indent)).blank(),code.push("$client->enqueue($request)->send();").push("$response = $client->getResponse();").blank().push("echo $response->getBody();"),!opts.noTags&&opts.closingTag&&code.blank().push("?>"),code.join()},module.exports.info={key:"http2",title:"HTTP v2",link:"http://devel-m6w6.rhcloud.com/mdref/http",description:"PHP with pecl/http v2"}},{"../../helpers/code-builder":33,"./helpers":60,util:118}],63:[function(require,module,exports){"use strict";module.exports={info:{key:"php",title:"PHP",extname:".php",default:"curl"},curl:require("./curl"),http1:require("./http1"),http2:require("./http2")}},{"./curl":59,"./http1":61,"./http2":62}],64:[function(require,module,exports){"use strict";module.exports={info:{key:"python",title:"Python",extname:".py",default:"python3"},python3:require("./python3"),requests:require("./requests")}},{"./python3":65,"./requests":66}],65:[function(require,module,exports){"use strict";var CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var code=new CodeBuilder;code.push("import http.client").blank(),"https:"===source.uriObj.protocol?code.push('conn = http.client.HTTPSConnection("%s")',source.uriObj.host).blank():code.push('conn = http.client.HTTPConnection("%s")',source.uriObj.host).blank();var payload=JSON.stringify(source.postData.text);payload&&code.push("payload = %s",payload).blank();var header,headers=source.allHeaders,headerCount=Object.keys(headers).length;if(1===headerCount)for(header in headers)code.push("headers = { '%s': \"%s\" }",header,headers[header]).blank();else if(headerCount>1){var count=1;code.push("headers = {");for(header in headers)count++!==headerCount?code.push("    '%s': \"%s\",",header,headers[header]):code.push("    '%s': \"%s\"",header,headers[header]);code.push("    }").blank()}var method=source.method,path=source.uriObj.path;return payload&&headerCount?code.push('conn.request("%s", "%s", payload, headers)',method,path):payload&&!headerCount?code.push('conn.request("%s", "%s", payload)',method,path):!payload&&headerCount?code.push('conn.request("%s", "%s", headers=headers)',method,path):code.push('conn.request("%s", "%s")',method,path),code.blank().push("res = conn.getresponse()").push("data = res.read()").blank().push('print(data.decode("utf-8"))'),code.join()},module.exports.info={key:"python3",title:"http.client",link:"https://docs.python.org/3/library/http.client.html",description:"Python3 HTTP Client"}},{"../../helpers/code-builder":33}],66:[function(require,module,exports){"use strict";var util=require("util"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var code=new CodeBuilder("    ");if(code.push("import requests").blank(),code.push('url = "%s"',source.url).blank(),source.queryString.length){var qs="querystring = "+JSON.stringify(source.queryObj);code.push(qs).blank()}var payload=JSON.stringify(source.postData.text);payload&&code.push("payload = %s",payload);var header,headers=source.allHeaders,headerCount=Object.keys(headers).length;if(1===headerCount)for(header in headers)code.push("headers = {'%s': '%s'}",header,headers[header]).blank();else if(headerCount>1){var count=1;code.push("headers = {");for(header in headers)count++!==headerCount?code.push(1,"'%s': \"%s\",",header,headers[header]):code.push(1,"'%s': \"%s\"",header,headers[header]);code.push(1,"}").blank()}var method=source.method,request=util.format('response = requests.request("%s", url',method);return payload&&(request+=", data=payload"),headerCount>0&&(request+=", headers=headers"),qs&&(request+=", params=querystring"),request+=")",code.push(request).blank().push("print(response.text)"),code.join()},module.exports.info={key:"requests",title:"Requests",link:"http://docs.python-requests.org/en/latest/api/#requests.request",description:"Requests HTTP library"}},{"../../helpers/code-builder":33,util:118}],67:[function(require,module,exports){"use strict";module.exports={info:{key:"ruby",title:"Ruby",extname:".rb",default:"native"},native:require("./native")}},{"./native":68}],68:[function(require,module,exports){"use strict";var CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var code=new CodeBuilder;code.push("require 'uri'").push("require 'net/http'").blank();var method=source.method.toUpperCase(),methods=["GET","POST","HEAD","DELETE","PATCH","PUT","OPTIONS","COPY","LOCK","UNLOCK","MOVE","TRACE"],capMethod=method.charAt(0)+method.substring(1).toLowerCase();methods.indexOf(method)<0&&code.push("class Net::HTTP::%s < Net::HTTPRequest",capMethod).push("  METHOD = '%s'",method.toUpperCase()).push("  REQUEST_HAS_BODY = '%s'",source.postData.text?"true":"false").push("  RESPONSE_HAS_BODY = true").push("end").blank(),code.push('url = URI("%s")',source.fullUrl).blank().push("http = Net::HTTP.new(url.host, url.port)"),"https:"===source.uriObj.protocol&&code.push("http.use_ssl = true").push("http.verify_mode = OpenSSL::SSL::VERIFY_NONE"),code.blank().push("request = Net::HTTP::%s.new(url)",capMethod);var headers=Object.keys(source.allHeaders);return headers.length&&headers.forEach(function(key){code.push("request[\"%s\"] = '%s'",key,source.allHeaders[key])}),source.postData.text&&code.push("request.body = %s",JSON.stringify(source.postData.text)),code.blank().push("response = http.request(request)").push("puts response.read_body"),code.join()},module.exports.info={key:"native",title:"net::http",link:"http://ruby-doc.org/stdlib-2.2.1/libdoc/net/http/rdoc/Net/HTTP.html",description:"Ruby HTTP client"}},{"../../helpers/code-builder":33}],69:[function(require,module,exports){"use strict";var util=require("util"),helpers=require("../../helpers/shell"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  ",short:!1},options),code=new CodeBuilder(opts.indent,!1!==opts.indent?" \\\n"+opts.indent:" ");switch(code.push("curl %s %s",opts.short?"-X":"--request",source.method).push(util.format("%s%s",opts.short?"":"--url ",helpers.quote(source.fullUrl))),"HTTP/1.0"===source.httpVersion&&code.push(opts.short?"-0":"--http1.0"),Object.keys(source.headersObj).sort().forEach(function(key){var header=util.format("%s: %s",key,source.headersObj[key]);code.push("%s %s",opts.short?"-H":"--header",helpers.quote(header))}),source.allHeaders.cookie&&code.push("%s %s",opts.short?"-b":"--cookie",helpers.quote(source.allHeaders.cookie)),source.postData.mimeType){case"multipart/form-data":source.postData.params.map(function(param){var post=util.format("%s=%s",param.name,param.value);param.fileName&&!param.value&&(post=util.format("%s=@%s",param.name,param.fileName)),code.push("%s %s",opts.short?"-F":"--form",helpers.quote(post))});break;default:source.postData.text&&code.push("%s %s",opts.short?"-d":"--data",helpers.escape(helpers.quote(source.postData.text)))}return code.join()},module.exports.info={key:"curl",title:"cURL",link:"http://curl.haxx.se/",description:"cURL is a command line tool and library for transferring data with URL syntax"}},{"../../helpers/code-builder":33,"../../helpers/shell":35,util:118}],70:[function(require,module,exports){"use strict";var util=require("util"),shell=require("../../helpers/shell"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({body:!1,cert:!1,headers:!1,indent:"  ",pretty:!1,print:!1,queryParams:!1,short:!1,style:!1,timeout:!1,verbose:!1,verify:!1},options),code=new CodeBuilder(opts.indent,!1!==opts.indent?" \\\n"+opts.indent:" "),raw=!1,flags=[];if(opts.headers&&flags.push(opts.short?"-h":"--headers"),opts.body&&flags.push(opts.short?"-b":"--body"),opts.verbose&&flags.push(opts.short?"-v":"--verbose"),opts.print&&flags.push(util.format("%s=%s",opts.short?"-p":"--print",opts.print)),opts.verify&&flags.push(util.format("--verify=%s",opts.verify)),opts.cert&&flags.push(util.format("--cert=%s",opts.cert)),opts.pretty&&flags.push(util.format("--pretty=%s",opts.pretty)),opts.style&&flags.push(util.format("--style=%s",opts.pretty)),opts.timeout&&flags.push(util.format("--timeout=%s",opts.timeout)),opts.queryParams){Object.keys(source.queryObj).forEach(function(name){var value=source.queryObj[name];util.isArray(value)?value.forEach(function(val){code.push("%s==%s",name,shell.quote(val))}):code.push("%s==%s",name,shell.quote(value))})}return Object.keys(source.allHeaders).sort().forEach(function(key){code.push("%s:%s",key,shell.quote(source.allHeaders[key]))}),"application/x-www-form-urlencoded"===source.postData.mimeType?source.postData.params&&source.postData.params.length&&(flags.push(opts.short?"-f":"--form"),source.postData.params.forEach(function(param){code.push("%s=%s",param.name,shell.quote(param.value))})):raw=!0,code.unshift("http %s%s %s",flags.length?flags.join(" ")+" ":"",source.method,shell.quote(opts.queryParams?source.url:source.fullUrl)),raw&&source.postData.text&&code.unshift("echo %s | ",shell.quote(source.postData.text)),code.join()},module.exports.info={key:"httpie",title:"HTTPie",link:"http://httpie.org/",description:"a CLI, cURL-like tool for humans"}},{"../../helpers/code-builder":33,"../../helpers/shell":35,util:118}],71:[function(require,module,exports){"use strict";module.exports={info:{key:"shell",title:"Shell",extname:".sh",default:"curl"},curl:require("./curl"),httpie:require("./httpie"),wget:require("./wget")}},{"./curl":69,"./httpie":70,"./wget":72}],72:[function(require,module,exports){"use strict";var util=require("util"),helpers=require("../../helpers/shell"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  ",short:!1,verbose:!1},options),code=new CodeBuilder(opts.indent,!1!==opts.indent?" \\\n"+opts.indent:" ");return opts.verbose?code.push("wget %s",opts.short?"-v":"--verbose"):code.push("wget %s",opts.short?"-q":"--quiet"),code.push("--method %s",helpers.quote(source.method)),Object.keys(source.allHeaders).forEach(function(key){var header=util.format("%s: %s",key,source.allHeaders[key]);code.push("--header %s",helpers.quote(header))}),source.postData.text&&code.push("--body-data "+helpers.escape(helpers.quote(source.postData.text))),code.push(opts.short?"-O":"--output-document").push("- %s",helpers.quote(source.fullUrl)),code.join()},module.exports.info={key:"wget",title:"Wget",link:"https://www.gnu.org/software/wget/",description:"a free software package for retrieving files using HTTP, HTTPS"}},{"../../helpers/code-builder":33,"../../helpers/shell":35,util:118}],73:[function(require,module,exports){"use strict";function buildString(length,str){return Array.apply(null,new Array(length)).map(String.prototype.valueOf,str).join("")}function concatArray(arr,pretty,indentation,indentLevel){var currentIndent=buildString(indentLevel,indentation),closingBraceIndent=buildString(indentLevel-1,indentation),join=pretty?",\n"+currentIndent:", ";return pretty?"[\n"+currentIndent+arr.join(join)+"\n"+closingBraceIndent+"]":"["+arr.join(join)+"]"}var util=require("util");module.exports={literalDeclaration:function(name,parameters,opts){return util.format("let %s = %s",name,this.literalRepresentation(parameters,opts))},literalRepresentation:function(value,opts,indentLevel){switch(indentLevel=void 0===indentLevel?1:indentLevel+1,Object.prototype.toString.call(value)){case"[object Number]":return value;case"[object Array]":var pretty=!1;return concatArray(value.map(function(v){return"[object Object]"===Object.prototype.toString.call(v)&&(pretty=Object.keys(v).length>1),this.literalRepresentation(v,opts,indentLevel)}.bind(this)),pretty,opts.indent,indentLevel);case"[object Object]":var keyValuePairs=[];for(var k in value)keyValuePairs.push(util.format('"%s": %s',k,this.literalRepresentation(value[k],opts,indentLevel)));return concatArray(keyValuePairs,opts.pretty&&keyValuePairs.length>1,opts.indent,indentLevel);case"[object Boolean]":return value.toString();default:return'"'+value.toString().replace(/"/g,'\\"')+'"'}}}},{util:118}],74:[function(require,module,exports){"use strict";module.exports={info:{key:"swift",title:"Swift",extname:".swift",default:"nsurlsession"},nsurlsession:require("./nsurlsession")}},{"./nsurlsession":75}],75:[function(require,module,exports){"use strict";var util=require("util"),helpers=require("./helpers"),CodeBuilder=require("../../helpers/code-builder");module.exports=function(source,options){var opts=util._extend({indent:"  ",pretty:!0,timeout:"10"},options),code=new CodeBuilder(opts.indent),req={hasHeaders:!1,hasBody:!1};if(code.push("import Foundation"),Object.keys(source.allHeaders).length&&(req.hasHeaders=!0,code.blank().push(helpers.literalDeclaration("headers",source.allHeaders,opts))),source.postData.text||source.postData.jsonObj||source.postData.params)switch(req.hasBody=!0,source.postData.mimeType){case"application/x-www-form-urlencoded":code.blank().push('var postData = NSMutableData(data: "%s=%s".dataUsingEncoding(NSUTF8StringEncoding)!)',source.postData.params[0].name,source.postData.params[0].value);for(var i=1,len=source.postData.params.length;i<len;i++)code.push('postData.appendData("&%s=%s".dataUsingEncoding(NSUTF8StringEncoding)!)',source.postData.params[i].name,source.postData.params[i].value);break;case"application/json":source.postData.jsonObj&&code.push(helpers.literalDeclaration("parameters",source.postData.jsonObj,opts)).blank().push("let postData = NSJSONSerialization.dataWithJSONObject(parameters, options: nil, error: nil)");break;case"multipart/form-data":code.push(helpers.literalDeclaration("parameters",source.postData.params,opts)).blank().push('let boundary = "%s"',source.postData.boundary).blank().push('var body = ""').push("var error: NSError? = nil").push("for param in parameters {").push(1,'let paramName = param["name"]!').push(1,'body += "--\\(boundary)\\r\\n"').push(1,'body += "Content-Disposition:form-data; name=\\"\\(paramName)\\""').push(1,'if let filename = param["fileName"] {').push(2,'let contentType = param["content-type"]!').push(2,"let fileContent = String(contentsOfFile: filename, encoding: NSUTF8StringEncoding, error: &error)").push(2,"if (error != nil) {").push(3,"println(error)").push(2,"}").push(2,'body += "; filename=\\"\\(filename)\\"\\r\\n"').push(2,'body += "Content-Type: \\(contentType)\\r\\n\\r\\n"').push(2,"body += fileContent!").push(1,'} else if let paramValue = param["value"] {').push(2,'body += "\\r\\n\\r\\n\\(paramValue)"').push(1,"}").push("}");break;default:code.blank().push('let postData = NSData(data: "%s".dataUsingEncoding(NSUTF8StringEncoding)!)',source.postData.text)}return code.blank().push('var request = NSMutableURLRequest(URL: NSURL(string: "%s")!,',source.fullUrl).push("                                        cachePolicy: .UseProtocolCachePolicy,").push("                                    timeoutInterval: %s)",parseInt(opts.timeout,10).toFixed(1)).push('request.HTTPMethod = "%s"',source.method),req.hasHeaders&&code.push("request.allHTTPHeaderFields = headers"),req.hasBody&&code.push("request.HTTPBody = postData"),code.blank().push("let session = NSURLSession.sharedSession()").push("let dataTask = session.dataTaskWithRequest(request, completionHandler: { (data, response, error) -> Void in").push(1,"if (error != nil) {").push(2,"println(error)").push(1,"} else {").push(2,"let httpResponse = response as? NSHTTPURLResponse").push(2,"println(httpResponse)").push(1,"}").push("})").blank().push("dataTask.resume()"),code.join()},module.exports.info={key:"nsurlsession",title:"NSURLSession",link:"https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html",description:"Foundation's NSURLSession request"}},{"../../helpers/code-builder":33,"./helpers":73,util:118}],76:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],77:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],78:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)}},{}],79:[function(require,module,exports){exports["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/,exports.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,exports.time=/^\d{2}:\d{2}:\d{2}$/,exports.email=/^\S+@\S+$/,exports["ip-address"]=exports.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,exports.ipv6=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,exports.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,exports.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,exports.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,exports.alpha=/^[a-zA-Z]+$/,exports.alphanumeric=/^[a-zA-Z0-9]+$/,exports.style=/\s*(.+?):\s*([^;]+);?/g,exports.phone=/^\+(?:[0-9] ?){6,14}[0-9]$/,exports["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},{}],80:[function(require,module,exports){var genobj=require("generate-object-property"),genfun=require("generate-function"),jsonpointer=require("jsonpointer"),xtend=require("xtend"),formats=require("./formats"),get=function(obj,additionalSchemas,ptr){var visit=function(sub){return sub&&sub.id===ptr?sub:"object"==typeof sub&&sub?Object.keys(sub).reduce(function(res,k){return res||visit(sub[k])},null):null},res=visit(obj);if(res)return res;ptr=ptr.replace(/^#/,""),ptr=ptr.replace(/\/$/,"");try{return jsonpointer.get(obj,decodeURI(ptr))}catch(err){var other,end=ptr.indexOf("#");if(0!==end)if(-1===end)other=additionalSchemas[ptr];else{var ext=ptr.slice(0,end);other=additionalSchemas[ext];var fragment=ptr.slice(end).replace(/^#/,"");try{return jsonpointer.get(other,fragment)}catch(err){}}else other=additionalSchemas[ptr];return other||null}},formatName=function(field){field=JSON.stringify(field);for(var pattern=/\[([^\[\]"]+)\]/;pattern.test(field);)field=field.replace(pattern,'."+$1+"');return field},types={};types.any=function(){return"true"},types.null=function(name){return name+" === null"},types.boolean=function(name){return"typeof "+name+' === "boolean"'},types.array=function(name){return"Array.isArray("+name+")"},types.object=function(name){return"typeof "+name+' === "object" && '+name+" && !Array.isArray("+name+")"},types.number=function(name){return"typeof "+name+' === "number" && isFinite('+name+")"},types.integer=function(name){return"typeof "+name+' === "number" && (Math.floor('+name+") === "+name+" || "+name+" > 9007199254740992 || "+name+" < -9007199254740992)"},types.string=function(name){return"typeof "+name+' === "string"'};var unique=function(array){for(var list=[],i=0;i<array.length;i++)list.push("object"==typeof array[i]?JSON.stringify(array[i]):array[i]);for(var i=1;i<list.length;i++)if(list.indexOf(list[i])!==i)return!1;return!0},isMultipleOf=function(name,multipleOf){var res,factor=(0|multipleOf)!==multipleOf?Math.pow(10,multipleOf.toString().split(".").pop().length):1;if(factor>1){res=((0|name)!==name?Math.pow(10,name.toString().split(".").pop().length):1)>factor||Math.round(factor*name)%(factor*multipleOf)}else res=name%multipleOf;return!res},compile=function(schema,cache,root,reporter,opts){var fmts=opts?xtend(formats,opts.formats):formats,scope={unique:unique,formats:fmts,isMultipleOf:isMultipleOf
},verbose=!!opts&&!!opts.verbose,greedy=!(!opts||void 0===opts.greedy)&&opts.greedy,syms={},gensym=function(name){return name+(syms[name]=(syms[name]||0)+1)},reversePatterns={},patterns=function(p){if(reversePatterns[p])return reversePatterns[p];var n=gensym("pattern");return scope[n]=new RegExp(p),reversePatterns[p]=n,n},vars=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],genloop=function(){var v=vars.shift();return vars.push(v+v[0]),v},visit=function(name,node,reporter,filter){var properties=node.properties,type=node.type,tuple=!1;Array.isArray(node.items)&&(properties={},node.items.forEach(function(item,i){properties[i]=item}),type="array",tuple=!0);var indent=0,error=function(msg,prop,value){validate("errors++"),!0===reporter&&(validate("if (validate.errors === null) validate.errors = []"),verbose?validate("validate.errors.push({field:%s,message:%s,value:%s,type:%s})",formatName(prop||name),JSON.stringify(msg),value||name,JSON.stringify(type)):validate("validate.errors.push({field:%s,message:%s})",formatName(prop||name),JSON.stringify(msg)))};!0===node.required?(indent++,validate("if (%s === undefined) {",name),error("is required"),validate("} else {")):(indent++,validate("if (%s !== undefined) {",name));var valid=[].concat(type).map(function(t){if(t&&!types.hasOwnProperty(t))throw new Error("Unknown type: "+t);return types[t||"any"](name)}).join(" || ")||"true";if("true"!==valid&&(indent++,validate("if (!(%s)) {",valid),error("is the wrong type"),validate("} else {")),tuple)if(!1===node.additionalItems)validate("if (%s.length > %d) {",name,node.items.length),error("has additional items"),validate("}");else if(node.additionalItems){var i=genloop();validate("for (var %s = %d; %s < %s.length; %s++) {",i,node.items.length,i,name,i),visit(name+"["+i+"]",node.additionalItems,reporter,filter),validate("}")}if(node.format&&fmts[node.format]){"string"!==type&&formats[node.format]&&validate("if (%s) {",types.string(name));var n=gensym("format");scope[n]=fmts[node.format],"function"==typeof scope[n]?validate("if (!%s(%s)) {",n,name):validate("if (!%s.test(%s)) {",n,name),error("must be "+node.format+" format"),validate("}"),"string"!==type&&formats[node.format]&&validate("}")}if(Array.isArray(node.required)){var checkRequired=function(req){var prop=genobj(name,req);validate("if (%s === undefined) {",prop),error("is required",prop),validate("missing++"),validate("}")};validate("if ((%s)) {","object"!==type?types.object(name):"true"),validate("var missing = 0"),node.required.map(checkRequired),validate("}"),greedy||(validate("if (missing === 0) {"),indent++)}if(node.uniqueItems&&("array"!==type&&validate("if (%s) {",types.array(name)),validate("if (!(unique(%s))) {",name),error("must be unique"),validate("}"),"array"!==type&&validate("}")),node.enum){var complex=node.enum.some(function(e){return"object"==typeof e}),compare=complex?function(e){return"JSON.stringify("+name+") !== JSON.stringify("+JSON.stringify(e)+")"}:function(e){return name+" !== "+JSON.stringify(e)};validate("if (%s) {",node.enum.map(compare).join(" && ")||"false"),error("must be an enum value"),validate("}")}if(node.dependencies&&("object"!==type&&validate("if (%s) {",types.object(name)),Object.keys(node.dependencies).forEach(function(key){var deps=node.dependencies[key];"string"==typeof deps&&(deps=[deps]);var exists=function(k){return genobj(name,k)+" !== undefined"};Array.isArray(deps)&&(validate("if (%s !== undefined && !(%s)) {",genobj(name,key),deps.map(exists).join(" && ")||"true"),error("dependencies not set"),validate("}")),"object"==typeof deps&&(validate("if (%s !== undefined) {",genobj(name,key)),visit(name,deps,reporter,filter),validate("}"))}),"object"!==type&&validate("}")),node.additionalProperties||!1===node.additionalProperties){"object"!==type&&validate("if (%s) {",types.object(name));var i=genloop(),keys=gensym("keys"),toCompare=function(p){return keys+"["+i+"] !== "+JSON.stringify(p)},toTest=function(p){return"!"+patterns(p)+".test("+keys+"["+i+"])"},additionalProp=Object.keys(properties||{}).map(toCompare).concat(Object.keys(node.patternProperties||{}).map(toTest)).join(" && ")||"true";validate("var %s = Object.keys(%s)",keys,name)("for (var %s = 0; %s < %s.length; %s++) {",i,i,keys,i)("if (%s) {",additionalProp),!1===node.additionalProperties?(filter&&validate("delete %s",name+"["+keys+"["+i+"]]"),error("has additional properties",null,JSON.stringify(name+".")+" + "+keys+"["+i+"]")):visit(name+"["+keys+"["+i+"]]",node.additionalProperties,reporter,filter),validate("}")("}"),"object"!==type&&validate("}")}if(node.$ref){var sub=get(root,opts&&opts.schemas||{},node.$ref);if(sub){var fn=cache[node.$ref];fn||(cache[node.$ref]=function(data){return fn(data)},fn=compile(sub,cache,root,!1,opts));var n=gensym("ref");scope[n]=fn,validate("if (!(%s(%s))) {",n,name),error("referenced schema does not match"),validate("}")}}if(node.not){var prev=gensym("prev");validate("var %s = errors",prev),visit(name,node.not,!1,filter),validate("if (%s === errors) {",prev),error("negative schema matches"),validate("} else {")("errors = %s",prev)("}")}if(node.items&&!tuple){"array"!==type&&validate("if (%s) {",types.array(name));var i=genloop();validate("for (var %s = 0; %s < %s.length; %s++) {",i,i,name,i),visit(name+"["+i+"]",node.items,reporter,filter),validate("}"),"array"!==type&&validate("}")}if(node.patternProperties){"object"!==type&&validate("if (%s) {",types.object(name));var keys=gensym("keys"),i=genloop();validate("var %s = Object.keys(%s)",keys,name)("for (var %s = 0; %s < %s.length; %s++) {",i,i,keys,i),Object.keys(node.patternProperties).forEach(function(key){var p=patterns(key);validate("if (%s.test(%s)) {",p,keys+"["+i+"]"),visit(name+"["+keys+"["+i+"]]",node.patternProperties[key],reporter,filter),validate("}")}),validate("}"),"object"!==type&&validate("}")}if(node.pattern){var p=patterns(node.pattern);"string"!==type&&validate("if (%s) {",types.string(name)),validate("if (!(%s.test(%s))) {",p,name),error("pattern mismatch"),validate("}"),"string"!==type&&validate("}")}if(node.allOf&&node.allOf.forEach(function(sch){visit(name,sch,reporter,filter)}),node.anyOf&&node.anyOf.length){var prev=gensym("prev");node.anyOf.forEach(function(sch,i){0===i?validate("var %s = errors",prev):validate("if (errors !== %s) {",prev)("errors = %s",prev),visit(name,sch,!1,!1)}),node.anyOf.forEach(function(sch,i){i&&validate("}")}),validate("if (%s !== errors) {",prev),error("no schemas match"),validate("}")}if(node.oneOf&&node.oneOf.length){var prev=gensym("prev"),passes=gensym("passes");validate("var %s = errors",prev)("var %s = 0",passes),node.oneOf.forEach(function(sch,i){visit(name,sch,!1,!1),validate("if (%s === errors) {",prev)("%s++",passes)("} else {")("errors = %s",prev)("}")}),validate("if (%s !== 1) {",passes),error("no (or more than one) schemas match"),validate("}")}for(void 0!==node.multipleOf&&("number"!==type&&"integer"!==type&&validate("if (%s) {",types.number(name)),validate("if (!isMultipleOf(%s, %d)) {",name,node.multipleOf),error("has a remainder"),validate("}"),"number"!==type&&"integer"!==type&&validate("}")),void 0!==node.maxProperties&&("object"!==type&&validate("if (%s) {",types.object(name)),validate("if (Object.keys(%s).length > %d) {",name,node.maxProperties),error("has more properties than allowed"),validate("}"),"object"!==type&&validate("}")),void 0!==node.minProperties&&("object"!==type&&validate("if (%s) {",types.object(name)),validate("if (Object.keys(%s).length < %d) {",name,node.minProperties),error("has less properties than allowed"),validate("}"),"object"!==type&&validate("}")),void 0!==node.maxItems&&("array"!==type&&validate("if (%s) {",types.array(name)),validate("if (%s.length > %d) {",name,node.maxItems),error("has more items than allowed"),validate("}"),"array"!==type&&validate("}")),void 0!==node.minItems&&("array"!==type&&validate("if (%s) {",types.array(name)),validate("if (%s.length < %d) {",name,node.minItems),error("has less items than allowed"),validate("}"),"array"!==type&&validate("}")),void 0!==node.maxLength&&("string"!==type&&validate("if (%s) {",types.string(name)),validate("if (%s.length > %d) {",name,node.maxLength),error("has longer length than allowed"),validate("}"),"string"!==type&&validate("}")),void 0!==node.minLength&&("string"!==type&&validate("if (%s) {",types.string(name)),validate("if (%s.length < %d) {",name,node.minLength),error("has less length than allowed"),validate("}"),"string"!==type&&validate("}")),void 0!==node.minimum&&("number"!==type&&"integer"!==type&&validate("if (%s) {",types.number(name)),validate("if (%s %s %d) {",name,node.exclusiveMinimum?"<=":"<",node.minimum),error("is less than minimum"),validate("}"),"number"!==type&&"integer"!==type&&validate("}")),void 0!==node.maximum&&("number"!==type&&"integer"!==type&&validate("if (%s) {",types.number(name)),validate("if (%s %s %d) {",name,node.exclusiveMaximum?">=":">",node.maximum),error("is more than maximum"),validate("}"),"number"!==type&&"integer"!==type&&validate("}")),properties&&Object.keys(properties).forEach(function(p){Array.isArray(type)&&-1!==type.indexOf("null")&&validate("if (%s !== null) {",name),visit(genobj(name,p),properties[p],reporter,filter),Array.isArray(type)&&-1!==type.indexOf("null")&&validate("}")});indent--;)validate("}")},validate=genfun("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return visit("data",schema,reporter,opts&&opts.filter),validate("return errors === 0")("}"),validate=validate.toFunction(scope),validate.errors=null,Object.defineProperty&&Object.defineProperty(validate,"error",{get:function(){return validate.errors?validate.errors.map(function(err){return err.field+" "+err.message}).join("\n"):""}}),validate.toJSON=function(){return schema},validate};module.exports=function(schema,opts){return"string"==typeof schema&&(schema=JSON.parse(schema)),compile(schema,{},schema,!0,opts)},module.exports.filter=function(schema,opts){var validate=module.exports(schema,xtend(opts,{filter:!0}));return function(sch){return validate(sch),sch}}},{"./formats":79,"generate-function":13,"generate-object-property":14,jsonpointer:83,xtend:119}],81:[function(require,module,exports){"use strict";function isProperty(str){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(str)}module.exports=isProperty},{}],82:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],83:[function(require,module,exports){function escapeReplacer(m){switch(m){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+m)}function untilde(str){return hasExcape.test(str)?str.replace(escapeMatcher,escapeReplacer):str}function setter(obj,pointer,value){for(var part,hasNextPart,p=1,len=pointer.length;p<len&&(part=untilde(pointer[p++]),hasNextPart=len>p,void 0===obj[part]&&(Array.isArray(obj)&&"-"===part&&(part=obj.length),hasNextPart&&(""!==pointer[p]&&pointer[p]<1/0||"-"===pointer[p]?obj[part]=[]:obj[part]={})),hasNextPart);)obj=obj[part];var oldValue=obj[part];return void 0===value?delete obj[part]:obj[part]=value,oldValue}function compilePointer(pointer){if("string"==typeof pointer){if(pointer=pointer.split("/"),""===pointer[0])return pointer;throw new Error("Invalid JSON pointer.")}if(Array.isArray(pointer))return pointer;throw new Error("Invalid JSON pointer.")}function get(obj,pointer){if("object"!=typeof obj)throw new Error("Invalid input object.");pointer=compilePointer(pointer);var len=pointer.length;if(1===len)return obj;for(var p=1;p<len;){if(obj=obj[untilde(pointer[p++])],len===p)return obj;if("object"!=typeof obj)return}}function set(obj,pointer,value){if("object"!=typeof obj)throw new Error("Invalid input object.");if(pointer=compilePointer(pointer),0===pointer.length)throw new Error("Invalid JSON pointer for set.");return setter(obj,pointer,value)}function compile(pointer){var compiled=compilePointer(pointer);return{get:function(object){return get(object,compiled)},set:function(object,value){return set(object,compiled,value)}}}var hasExcape=/~/,escapeMatcher=/~[01]/g;exports.get=get,exports.set=set,exports.compile=compile},{}],84:[function(require,module,exports){(function(process){var Stream=require("stream").Stream;module.exports=function(mapper,opts){function queueData(data,number){var nextToWrite=lastWritten+1;if(number===nextToWrite?(void 0!==data&&stream.emit.apply(stream,["data",data]),lastWritten++,nextToWrite++):writeQueue[number]=data,writeQueue.hasOwnProperty(nextToWrite)){var dataToWrite=writeQueue[nextToWrite];return delete writeQueue[nextToWrite],queueData(dataToWrite,nextToWrite)}outputs++,inputs===outputs&&(paused&&(paused=!1,stream.emit("drain")),ended&&end())}function next(err,data,number){destroyed||(inNext=!0,err&&!self.opts.failures||queueData(data,number),err&&stream.emit.apply(stream,[errorEventName,err]),inNext=!1)}function wrappedMapper(input,number,callback){return mapper.call(null,input,function(err,data){callback(err,data,number)})}function end(data){if(ended=!0,stream.writable=!1,void 0!==data)return queueData(data,inputs);inputs==outputs&&(stream.readable=!1,stream.emit("end"),stream.destroy())}var stream=new Stream,self=this,inputs=0,outputs=0,ended=!1,paused=!1,destroyed=!1,lastWritten=0,inNext=!1;this.opts=opts||{};var errorEventName=this.opts.failures?"failure":"error",writeQueue={};return stream.writable=!0,stream.readable=!0,stream.write=function(data){if(ended)throw new Error("map stream is not writable");inNext=!1,inputs++;try{var written=wrappedMapper(data,inputs,next);return!(paused=!1===written)}catch(err){if(inNext)throw err;return next(err),!paused}},stream.end=function(data){ended||end()},stream.destroy=function(){ended=destroyed=!0,stream.writable=stream.readable=paused=!1,process.nextTick(function(){stream.emit("close")})},stream.pause=function(){paused=!0},stream.resume=function(){paused=!1},stream}}).call(this,require("_process"))},{_process:88,stream:109}],85:[function(require,module,exports){function parse(str){if(str=String(str),!(str.length>100)){var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(match){var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function fmtShort(ms){return ms>=d?Math.round(ms/d)+"d":ms>=h?Math.round(ms/h)+"h":ms>=m?Math.round(ms/m)+"m":ms>=s?Math.round(ms/s)+"s":ms+"ms"}function fmtLong(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(val,options){options=options||{};var type=typeof val;if("string"===type&&val.length>0)return parse(val);if("number"===type&&!1===isNaN(val))return options.long?fmtLong(val):fmtShort(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},{}],86:[function(require,module,exports){module.exports=require("through")},{through:112}],87:[function(require,module,exports){(function(process){"use strict";function nextTick(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick}).call(this,require("_process"))},{_process:88}],88:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],89:[function(require,module,exports){(function(global){!function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,"."),result+map(string.split("."),fn).join(".")}function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value)}).join("")}function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var out,basic,j,index,oldi,w,k,digit,t,baseMinusT,output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias;for(basic=input.lastIndexOf(delimiter),basic<0&&(basic=0),j=0;j<basic;++j)input.charCodeAt(j)>=128&&error("not-basic"),output.push(input.charCodeAt(j));for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;index>=inputLength&&error("invalid-input"),
digit=basicToDigit(input.charCodeAt(index++)),(digit>=base||digit>floor((maxInt-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(digit<t);k+=base)baseMinusT=base-t,w>floor(maxInt/baseMinusT)&&error("overflow"),w*=baseMinusT;out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT,output=[];for(input=ucs2decode(input),inputLength=input.length,n=initialN,delta=0,bias=initialBias,j=0;j<inputLength;++j)(currentValue=input[j])<128&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push(delimiter);handledCPCount<inputLength;){for(m=maxInt,j=0;j<inputLength;++j)(currentValue=input[j])>=n&&currentValue<m&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if(currentValue=input[j],currentValue<n&&++delta>maxInt&&error("overflow"),currentValue==n){for(q=delta,k=base;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias,!(q<t);k+=base)qMinusT=q-t,baseMinusT=base-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT);output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var punycode,key,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(require,module,exports){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],91:[function(require,module,exports){"use strict";function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],92:[function(require,module,exports){"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":90,"./encode":91}],93:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":94}],94:[function(require,module,exports){"use strict";function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}var processNextTick=require("process-nextick-args"),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),processNextTick(cb,err)}},{"./_stream_readable":96,"./_stream_writable":98,"core-util-is":5,inherits:77,"process-nextick-args":87}],95:[function(require,module,exports){"use strict";function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":97,"core-util-is":5,inherits:77}],96:[function(require,module,exports){(function(process,global){"use strict";function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}function prependListener(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var state=stream._readableState;if(null===chunk)state.reading=!1,onEofChunk(stream,state);else{var er;skipChunkCheck||(er=chunkInvalid(state,chunk)),er?stream.emit("error",er):state.objectMode||chunk&&chunk.length>0?("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=_uint8ArrayToBuffer(chunk)),addToFront?state.endEmitted?stream.emit("error",new Error("stream.unshift() after end event")):addChunk(stream,state,chunk,!0):state.ended?stream.emit("error",new Error("stream.push() after EOF")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1)}return needMoreData(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;return _isUint8Array(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!==n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function onEofChunk(stream,state){if(!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){if(0===state.length)return null;var ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=fromListPartial(n,state.buffer,state.decoder),ret}function fromListPartial(n,list,hasStrings){var ret;return n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list),ret}function copyFromBufferString(n,list){var p=list.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}function copyFromBuffer(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}var processNextTick=require("process-nextick-args");module.exports=Readable;var Duplex,isArray=require("isarray");Readable.ReadableState=ReadableState;var EElistenerCount=(require("events").EventEmitter,function(emitter,type){return emitter.listeners(type).length}),Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=require("./internal/streams/BufferList"),destroyImpl=require("./internal/streams/destroy");util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),state.ended||state.reading?(doRead=!1,debug("reading or ended",doRead)):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state)));var ret;return ret=n>0?fromList(n,state):null,null===ret?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,cleanup())}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:unpipe;state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1,increasedAwaitDrain=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):processNextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,resume(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)}),stream.on("data",function(chunk){if(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),(!state.objectMode||null!==chunk&&void 0!==chunk)&&(state.objectMode||chunk&&chunk.length)){self.push(chunk)||(paused=!0,stream.pause())}});for(var i in stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],self.emit.bind(self,kProxyEvents[n]));return self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":94,"./internal/streams/BufferList":99,"./internal/streams/destroy":100,"./internal/streams/stream":101,_process:88,"core-util-is":5,events:10,inherits:77,isarray:82,"process-nextick-args":87,"safe-buffer":107,"string_decoder/":102,util:3}],97:[function(require,module,exports){"use strict";function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("write callback called multiple times"));ts.writechunk=null,ts.writecb=null,null!==data&&void 0!==data&&stream.push(data),cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er,data){done(stream,er,data)}):done(stream)})}function done(stream,er,data){if(er)return stream.emit("error",er);null!==data&&void 0!==data&&stream.push(data);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this.emit("close")})}},{"./_stream_duplex":94,"core-util-is":5,inherits:77}],98:[function(require,module,exports){(function(process,global){"use strict";function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(_this,state)}}function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{},this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}function decodeChunk(state,chunk,encoding){return state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?(processNextTick(cb,er),processNextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function prefinish(stream,state){state.prefinished||state.finalCalled||("function"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,processNextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(prefinish(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;for(corkReq.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}var processNextTick=require("process-nextick-args")
;module.exports=Writable;var Duplex,asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},destroyImpl=require("./internal/streams/destroy");util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||object&&object._writableState instanceof WritableState}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=_isUint8Array(chunk)&&!state.objectMode;return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=_uint8ArrayToBuffer(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?writeAfterEnd(this,cb):(isBuf||validChunk(this,state,chunk,cb))&&(state.pendingcb++,ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||endWritable(this,state,cb)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":94,"./internal/streams/destroy":100,"./internal/streams/stream":101,_process:88,"core-util-is":5,inherits:77,"process-nextick-args":87,"safe-buffer":107,"util-deprecate":115}],99:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function copyBuffer(src,target,offset){src.copy(target,offset)}var Buffer=require("safe-buffer").Buffer;module.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret},BufferList}()},{"safe-buffer":107}],100:[function(require,module,exports){"use strict";function destroy(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed)return void(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||processNextTick(emitErrorNT,this,err));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(processNextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)})}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(self,err){self.emit("error",err)}var processNextTick=require("process-nextick-args");module.exports={destroy:destroy,undestroy:undestroy}},{"process-nextick-args":87}],101:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:10}],102:[function(require,module,exports){"use strict";function _normalizeEncoding(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:-1}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return nb>=0?(nb>0&&(self.lastNeed=nb-1),nb):--j<i?0:(nb=utf8CheckByte(buf[j]))>=0?(nb>0&&(self.lastNeed=nb-2),nb):--j<i?0:(nb=utf8CheckByte(buf[j]),nb>=0?(nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb):0)}function utf8CheckExtraBytes(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"".repeat(p);if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"".repeat(p+1);if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"".repeat(p+2)}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,buf,p);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"".repeat(this.lastTotal-this.lastNeed):r}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{"safe-buffer":107}],103:[function(require,module,exports){module.exports=require("./readable").PassThrough},{"./readable":104}],104:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":94,"./lib/_stream_passthrough.js":95,"./lib/_stream_readable.js":96,"./lib/_stream_transform.js":97,"./lib/_stream_writable.js":98}],105:[function(require,module,exports){module.exports=require("./readable").Transform},{"./readable":104}],106:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":98}],107:[function(require,module,exports){function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}var buffer=require("buffer"),Buffer=buffer.Buffer;Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:4}],108:[function(require,module,exports){function split(matcher,mapper,options){function emit(stream,piece){if(mapper){try{piece=mapper(piece)}catch(err){return stream.emit("error",err)}void 0!==piece&&stream.queue(piece)}else stream.queue(piece)}function next(stream,buffer){var pieces=((null!=soFar?soFar:"")+buffer).split(matcher);soFar=pieces.pop(),maxLength&&soFar.length>maxLength&&stream.emit("error",new Error("maximum buffer reached"));for(var i=0;i<pieces.length;i++){emit(stream,pieces[i])}}var decoder=new Decoder,soFar="",maxLength=options&&options.maxLength;return"function"==typeof matcher&&(mapper=matcher,matcher=null),matcher||(matcher=/\r?\n/),through(function(b){next(this,decoder.write(b))},function(){decoder.end&&next(this,decoder.end()),null!=soFar&&emit(this,soFar),this.queue(null)})}var through=require("through"),Decoder=require("string_decoder").StringDecoder;module.exports=split},{string_decoder:111,through:112}],109:[function(require,module,exports){function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter;require("inherits")(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}var source=this;source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:10,inherits:77,"readable-stream/duplex.js":93,"readable-stream/passthrough.js":103,"readable-stream/readable.js":104,"readable-stream/transform.js":105,"readable-stream/writable.js":106}],110:[function(require,module,exports){var duplexer=require("duplexer");module.exports=function(){function recurse(streams){streams.length<2||(streams[0].pipe(streams[1]),recurse(streams.slice(1)))}function onerror(){var args=[].slice.call(arguments);args.unshift("error"),thepipe.emit.apply(thepipe,args)}var streams=[].slice.call(arguments),first=streams[0],last=streams[streams.length-1],thepipe=duplexer(first,last);if(1==streams.length)return streams[0];if(!streams.length)throw new Error("connect called with empty args");recurse(streams);for(var i=1;i<streams.length-1;i++)streams[i].on("error",onerror);return thepipe}},{duplexer:8}],111:[function(require,module,exports){function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";buffer=buffer.slice(available,buffer.length),charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(!(charCode>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived),charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1,charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},{buffer:4}],112:[function(require,module,exports){(function(process){function through(write,end,opts){function drain(){for(;buffer.length&&!stream.paused;){var data=buffer.shift();if(null===data)return stream.emit("end");stream.emit("data",data)}}function _end(){stream.writable=!1,end.call(stream),!stream.readable&&stream.autoDestroy&&stream.destroy()}write=write||function(data){this.queue(data)},end=end||function(){this.queue(null)};var ended=!1,destroyed=!1,buffer=[],_ended=!1,stream=new Stream;return stream.readable=stream.writable=!0,stream.paused=!1,stream.autoDestroy=!(opts&&!1===opts.autoDestroy),stream.write=function(data){return write.call(this,data),!stream.paused},stream.queue=stream.push=function(data){return _ended?stream:(null===data&&(_ended=!0),buffer.push(data),drain(),stream)},stream.on("end",function(){stream.readable=!1,!stream.writable&&stream.autoDestroy&&process.nextTick(function(){stream.destroy()})}),stream.end=function(data){if(!ended)return ended=!0,arguments.length&&stream.write(data),_end(),stream},stream.destroy=function(){if(!destroyed)return destroyed=!0,ended=!0,buffer.length=0,stream.writable=stream.readable=!1,stream.emit("close"),stream},stream.pause=function(){if(!stream.paused)return stream.paused=!0,stream},stream.resume=function(){return stream.paused&&(stream.paused=!1,stream.emit("resume")),drain(),stream.paused||stream.emit("drain"),stream},stream}var Stream=require("stream");exports=module.exports=through,through.through=through}).call(this,require("_process"))},{_process:88,stream:109}],113:[function(require,module,exports){"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}function urlFormat(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)}function urlResolve(source,relative){return urlParse(source,!1,!0).resolve(relative)}function urlResolveObject(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/"),url=uSplit.join(splitter);var rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}var auth,atSign;atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),-1!==atSign&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec)}-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)part.charCodeAt(j)>127?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1!==qm?(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)):parseQueryString&&(this.search="",this.query={}),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];"protocol"!==rkey&&(result[rkey]=relative[rkey])}return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}return result.href=result.format(),result}if(result.protocol=relative.protocol,relative.host||hostlessProtocol[relative.protocol])result.pathname=relative.pathname;else{for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),result.pathname=relPath.join("/")}if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.search?result.path="/"+result.search:result.path=null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;i>=0;i--)last=srcPath[i],"."===last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&result.host.indexOf("@")>0)&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},
Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":114,punycode:89,querystring:92}],114:[function(require,module,exports){"use strict";module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],115:[function(require,module,exports){(function(global){function deprecate(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=deprecate}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],116:[function(require,module,exports){arguments[4][77][0].apply(exports,arguments)},{dup:77}],117:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],118:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){base=" [Function"+(value.name?": "+value.name:"")+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;return output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":117,_process:88,inherits:116}],119:[function(require,module,exports){function extend(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty},{}],120:[function(require,module,exports){"use strict";function isPrimitive(obj){var type=obj.type;return void 0!==typesInstantiator[type]}function isPropertyRequired(property,requiredArray){var found=!1;return requiredArray=requiredArray||[],requiredArray.forEach(function(requiredProperty){requiredProperty===property&&(found=!0)}),found}function shouldVisit(property,obj,options){return!options.requiredPropertiesOnly||options.requiredPropertiesOnly&&isPropertyRequired(property,obj.required)}function instantiatePrimitive(val){var type=val.type;return val.default?val.default:typesInstantiator[type]}function isEnum(obj){return"[object Array]"===Object.prototype.toString.call(obj.enum)}function instantiateEnum(val){if(val.default)return val.default;if(val.enum.length)return val.enum[0]}function instantiate(schema,options){function visit(obj,name,data){if(obj){var i,type=obj.type;if("object"===type&&obj.properties){data[name]=data[name]||{};for(var property in obj.properties)obj.properties.hasOwnProperty(property)&&shouldVisit(property,obj,options)&&visit(obj.properties[property],property,data[name])}else if(obj.allOf)for(i=0;i<obj.allOf.length;i++)visit(obj.allOf[i],name,data);else if("array"===type){data[name]=[];var len=1;for((obj.minItems||0===obj.minItems)&&(len=obj.minItems),i=0;i<len;i++)visit(obj.items,i,data[name])}else isEnum(obj)?data[name]=instantiateEnum(obj):isPrimitive(obj)&&(data[name]=instantiatePrimitive(obj))}}options=options||{};var data={};return visit(schema,"kek",data),data.kek}var typesInstantiator={string:"<ADD STRING VALUE>",number:0,integer:0,null:null,boolean:!1,object:{}};void 0!==module&&(module.exports={instantiate:instantiate})},{}],121:[function(require,module,exports){var Instantiator=require("./schema-instantiator.js"),createHar=function(swagger,path,method,queryParamValues){void 0===queryParamValues&&(queryParamValues={});var baseUrl=getBaseUrl(swagger),har={method:method.toUpperCase(),url:baseUrl+path,headers:getHeadersArray(swagger,path,method),queryString:getQueryStrings(swagger,path,method,queryParamValues),httpVersion:"HTTP/1.1",cookies:[],headersSize:0,bodySize:0},postData=getPayload(swagger,path,method);return postData&&(har.postData=postData),har},getPayload=function(swagger,path,method){if(void 0!==swagger.paths[path][method].parameters)for(var i in swagger.paths[path][method].parameters){var param=swagger.paths[path][method].parameters[i];if(void 0!==param.in&&"body"===param.in.toLowerCase()&&void 0!==param.schema){var schema;if(void 0===param.schema.$ref)schema=param.schema;else if(/^http/.test(param.schema.$ref));else{var ref=param.schema.$ref.split("/").slice(-1)[0];schema=getResolvedSchema(swagger,swagger.definitions[ref])}return{mimeType:"application/json",text:JSON.stringify(Instantiator.instantiate(schema))}}}return null},getResolvedSchema=function(swagger,schema){if("object"===schema.type){if(void 0!==schema.properties)for(var propKey in schema.properties){var prop=schema.properties[propKey];if("string"==typeof prop.$ref&&!/^http/.test(prop.$ref)){var ref=prop.$ref.split("/").slice(-1)[0];schema.properties[propKey]=swagger.definitions[ref]}getResolvedSchema(swagger,schema.properties[propKey])}}else if("array"===schema.type&&void 0!==schema.items)for(var itemKey in schema.items){if("$ref"===itemKey&&!/^http/.test(schema.items[itemKey])){var ref2=schema.items.$ref.split("/").slice(-1)[0];schema.items=swagger.definitions[ref2]}getResolvedSchema(swagger,schema.items)}return schema},getBaseUrl=function(swagger){var baseUrl="";return void 0!==swagger.schemes?baseUrl+=swagger.schemes[0]:baseUrl+="http","/"===swagger.basePath?baseUrl+="://"+swagger.host:baseUrl+="://"+swagger.host+swagger.basePath,baseUrl},getQueryStrings=function(swagger,path,method,values){void 0===values&&(values={});var queryStrings=[];if(void 0!==swagger.paths[path][method].parameters)for(var i in swagger.paths[path][method].parameters){var param=swagger.paths[path][method].parameters[i];"string"!=typeof param.$ref||/^http/.test(param.$ref)||(param=resolveRef(swagger,param.$ref)),void 0!==param.in&&"query"===param.in.toLowerCase()&&queryStrings.push({name:param.name,value:void 0===values[param.name]?void 0===param.default?"SOME_"+param.type.toUpperCase()+"_VALUE":param.default+"":values[param.name]+""})}return queryStrings},getHeadersArray=function(swagger,path,method){var headers=[],pathObj=swagger.paths[path][method];if(void 0!==pathObj.consumes)for(var i in pathObj.consumes){var type=pathObj.consumes[i];headers.push({name:"accept",value:type})}if(void 0!==pathObj.produces)for(var j in pathObj.produces){var type2=pathObj.produces[j];headers.push({name:"content-type",value:type2})}if(void 0!==pathObj.parameters)for(var k in pathObj.parameters){var param=pathObj.parameters[k];void 0!==param.in&&"header"===param.in.toLowerCase()&&headers.push({name:param.name,value:"SOME_"+param.type.toUpperCase()+"_VALUE"})}var basicAuthDef,apiKeyAuthDef,oauthDef;if(void 0!==pathObj.security)for(var l in pathObj.security){var secScheme=Object.keys(pathObj.security[l])[0],authType=swagger.securityDefinitions[secScheme].type.toLowerCase();switch(authType){case"basic":basicAuthDef=secScheme;break;case"apikey":"query"===swagger.securityDefinitions[secScheme].in&&(apiKeyAuthDef=secScheme);break;case"oauth2":oauthDef=secScheme}}else if(void 0!==swagger.security)for(var m in swagger.security){var overallSecScheme=Object.keys(swagger.security[m])[0],overallAuthType=swagger.securityDefinitions[overallSecScheme].type.toLowerCase();switch(overallAuthType){case"basic":basicAuthDef=overallSecScheme;break;case"apikey":"query"===swagger.securityDefinitions[overallSecScheme].in&&(apiKeyAuthDef=overallSecScheme);break;case"oauth2":oauthDef=overallSecScheme}}return basicAuthDef?headers.push({name:"Authorization",value:"Basic REPLACE_BASIC_AUTH"}):apiKeyAuthDef?headers.push({name:swagger.securityDefinitions[apiKeyAuthDef].name,value:"REPLACE_KEY_VALUE"}):oauthDef&&headers.push({name:"Authorization",value:"Bearer REPLACE_BEARER_TOKEN"}),headers},swaggerToHarList=function(swagger){try{var baseUrl=getBaseUrl(swagger),harList=[];for(var path in swagger.paths)for(var method in swagger.paths[path]){var url=baseUrl+path,har=createHar(swagger,path,method);harList.push({method:method.toUpperCase(),url:url,description:swagger.paths[path][method].description||"No description available",har:har})}return harList}catch(e){return null}},resolveRef=function(oai,ref){var parts=ref.split("/");if(parts.length<=1)return{};var recursive=function(obj,index){if(index+1<parts.length){var newCount=index+1;return recursive(obj[parts[index]],newCount)}return obj[parts[index]]};return recursive(oai,1)};module.exports={getAll:swaggerToHarList,getEndpoint:createHar}},{"./schema-instantiator.js":120}]},{},[1]);
